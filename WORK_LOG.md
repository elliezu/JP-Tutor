# JP-Tutor 작업 로그

## 📅 2025-01-19 XP/레벨 시스템 구현 진행중

### 📊 데이터 현황

| 레벨 | 한자 | 어휘 | 문법 | 총합 |
|------|------|------|------|------|
| N5 | 117자 | 770개 | 50개 | 937개 |
| N4 | 169자 | 660개 | 50개 | 879개 |

### 🎮 XP 시스템 설계

#### XP 획득
| 행동 | XP |
|------|-----|
| 알아요 (퀴즈 정답) | +10 |
| 복습 테스트 정답 | +15 |
| 단어장 퀴즈 정답 | +10 |
| 일일 목표 달성 | +50 |
| 스트릭 보너스 (7일) | +100 |

#### 레벨 & 계급 (N5/N4 별도)
| 레벨 | 필요 XP | 계급 | 아이콘 |
|------|---------|------|--------|
| 1~5 | 0~500 | 見習い (견습) | 🌱 |
| 6~10 | 500~1500 | 初心者 (초심자) | 🌿 |
| 11~15 | 1500~3000 | 中級者 (중급자) | 🌳 |
| 16~20 | 3000~5000 | 上級者 (상급자) | 🔥 |
| 21~25 | 5000~7500 | 達人 (달인) | ⭐ |
| 26~30 | 7500~10000 | 名人 (명인) | 👑 |

#### 복습 주기
| 단계 | 간격 | 맞추면 | 틀리면 |
|------|------|--------|--------|
| 1차 | 1일 후 | 2차로 | 다시 1차 |
| 2차 | 3일 후 | 3차로 | 1차로 |
| 3차 | 7일 후 | 마스터 | 2차로 |

#### 스트릭 & 페널티
- 매일 목표 달성 → 스트릭 +1
- 하루 미달성 → 스트릭 리셋
- 3일 연속 미접속 → 1레벨 강등

#### 일일 목표 옵션
- 가볍게: 10개
- 보통: 20개
- 열심히: 30개
- 빡세게: 50개

### 📁 생성된 파일
- jlpt-xp.js: XP/레벨/계급/복습 로직
- jlpt-streak.js: 스트릭/일일목표 로직

### ✅ 완료된 작업
1. [x] jlpt-xp.js 생성 (XP, 레벨, 계급, 복습 주기 로직)
2. [x] jlpt-streak.js 생성 (스트릭, 일일목표 로직)
3. [x] jlpt.html에 스크립트 연결
4. [x] 헤더에 레벨/스트릭/목표 표시 UI 추가
5. [x] 계급 안내 팝업 함수 (showRankInfo)
6. [x] 설정 팝업 함수 (showSettings)
7. [x] 앱 시작 시 3일 미접속 강등 체크

### 🐛 현재 버그
- **헤더 버튼 클릭 이벤트 안 먹힘** (showRankInfo, showSettings 팝업 안 뜸)

### ⏳ 남은 작업
1. [ ] 헤더 버튼 클릭 이벤트 수정 (버그)
2. [ ] notebook.html에도 같은 헤더 추가
3. [ ] 카드에 "알아요" 버튼 추가
4. [ ] 알아요 클릭 시 확인 퀴즈 팝업
5. [ ] 퀴즈 정답 시 XP 획득 + 알아요 체크
6. [ ] 복습 주기 시스템 연동
7. [ ] notebook.html 퀴즈 XP 연동

### 📁 파일 위치
- jlpt.html: C:\Users\yzoo2\Documents\GitHub\JP-Tutor\jlpt.html
- jlpt-xp.js: C:\Users\yzoo2\Documents\GitHub\JP-Tutor\jlpt-xp.js
- jlpt-streak.js: C:\Users\yzoo2\Documents\GitHub\JP-Tutor\jlpt-streak.js
- notebook.html: C:\Users\yzoo2\Documents\GitHub\JP-Tutor\notebook.html

### 🔧 다음 채팅 시작 인스트럭션
```
JP-Tutor XP 시스템 작업 이어서 해줘.

현재 상태:
- jlpt-xp.js, jlpt-streak.js 생성 완료
- 헤더 UI 추가됨 (레벨/스트릭/목표 표시)
- 버그: 헤더 버튼 클릭 이벤트 안 먹힘 (팝업 안 뜸)

해야 할 작업:
1. 헤더 버튼 클릭 버그 수정
2. notebook.html에 같은 헤더 추가
3. 카드에 알아요 버튼 + 확인 퀴즈 팝업
4. XP 획득 연동

파일 경로: C:\Users\yzoo2\Documents\GitHub\JP-Tutor
워크로그: WORK_LOG.md 참고
```
