<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>ğŸ‡¯ğŸ‡µ ì¼ë³¸ì–´ ê°€ë‚˜ ë§ˆìŠ¤í„°</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f9fafb; min-height: 100vh; }
    .container { max-width: 28rem; margin: 0 auto; padding-bottom: 5rem; }
    
    /* Header */
    header { background: white; border-bottom: 1px solid #e5e7eb; position: sticky; top: 0; z-index: 10; padding: 0.5rem 1rem; }
    .header-title { font-size: 1.125rem; font-weight: bold; color: #1f2937; display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem; }
    .header-tabs { display: flex; gap: 0.5rem; }
    .header-tab { flex: 1; padding: 0.5rem; border-radius: 0.5rem; font-size: 0.875rem; font-weight: 500; border: none; cursor: pointer; }
    .header-tab.active { background: #6366f1; color: white; }
    .header-tab:not(.active) { background: #f3f4f6; color: #374151; }
    
    /* Main */
    main { padding: 1rem; }
    
    /* Cards */
    .card { background: white; border-radius: 1rem; padding: 1.25rem; border: 1px solid #e5e7eb; margin-bottom: 1rem; }
    .card-gradient { background: linear-gradient(to bottom right, #6366f1, #9333ea); color: white; border: none; }
    
    /* Buttons */
    .btn { padding: 0.625rem 1rem; border-radius: 0.75rem; font-weight: 500; border: none; cursor: pointer; display: inline-flex; align-items: center; justify-content: center; gap: 0.25rem; }
    .btn-primary { background: #6366f1; color: white; }
    .btn-white { background: white; color: #6366f1; }
    .btn-gray { background: #f3f4f6; color: #374151; border: 2px solid #e5e7eb; }
    .btn-purple { background: #9333ea; color: white; }
    .btn-green { background: #22c55e; color: white; }
    .btn-full { width: 100%; }
    .btn-sm { padding: 0.375rem 0.75rem; font-size: 0.75rem; }
    .btn-pill { border-radius: 9999px; }
    .btn:disabled { opacity: 0.5; cursor: not-allowed; }
    
    /* Progress bar */
    .progress-bg { height: 0.5rem; background: rgba(255,255,255,0.2); border-radius: 9999px; overflow: hidden; }
    .progress-fill { height: 100%; background: white; border-radius: 9999px; transition: width 0.3s; }
    .progress-indigo-bg { background: #c7d2fe; }
    .progress-indigo-fill { background: #6366f1; }
    
    /* Grid */
    .flex { display: flex; }
    .flex-col { flex-direction: column; }
    .flex-wrap { flex-wrap: wrap; }
    .gap-1 { gap: 0.25rem; }
    .gap-2 { gap: 0.5rem; }
    .gap-3 { gap: 0.75rem; }
    .items-center { align-items: center; }
    .justify-center { justify-content: center; }
    .justify-between { justify-content: space-between; }
    .flex-1 { flex: 1; }
    .grid-2 { display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.5rem; }
    
    /* Text */
    .text-xs { font-size: 0.75rem; }
    .text-sm { font-size: 0.875rem; }
    .text-lg { font-size: 1.125rem; }
    .text-xl { font-size: 1.25rem; }
    .text-2xl { font-size: 1.5rem; }
    .text-3xl { font-size: 1.875rem; }
    .text-5xl { font-size: 3rem; }
    .text-7xl { font-size: 4.5rem; }
    .font-bold { font-weight: bold; }
    .font-medium { font-weight: 500; }
    .text-center { text-align: center; }
    .text-white { color: white; }
    .text-gray-400 { color: #9ca3af; }
    .text-gray-500 { color: #6b7280; }
    .text-gray-600 { color: #4b5563; }
    .text-gray-800 { color: #1f2937; }
    .text-indigo-500 { color: #6366f1; }
    .text-indigo-600 { color: #4f46e5; }
    .text-indigo-700 { color: #4338ca; }
    .text-purple-600 { color: #9333ea; }
    .text-purple-700 { color: #7e22ce; }
    .text-green-600 { color: #16a34a; }
    .text-green-700 { color: #15803d; }
    .text-red-600 { color: #dc2626; }
    
    /* Background */
    .bg-white { background: white; }
    .bg-gray-50 { background: #f9fafb; }
    .bg-gray-100 { background: #f3f4f6; }
    .bg-indigo-50 { background: #eef2ff; }
    .bg-indigo-100 { background: #e0e7ff; }
    .bg-indigo-500 { background: #6366f1; }
    .bg-purple-50 { background: #faf5ff; }
    .bg-purple-100 { background: #f3e8ff; }
    .bg-purple-500 { background: #9333ea; }
    .bg-green-50 { background: #f0fdf4; }
    .bg-green-100 { background: #dcfce7; }
    .bg-green-500 { background: #22c55e; }
    .bg-amber-50 { background: #fffbeb; }
    .bg-cyan-100 { background: #cffafe; }
    .bg-red-50 { background: #fef2f2; }
    
    /* Spacing */
    .p-2 { padding: 0.5rem; }
    .p-3 { padding: 0.75rem; }
    .p-4 { padding: 1rem; }
    .p-6 { padding: 1.5rem; }
    .px-2 { padding-left: 0.5rem; padding-right: 0.5rem; }
    .px-3 { padding-left: 0.75rem; padding-right: 0.75rem; }
    .py-1 { padding-top: 0.25rem; padding-bottom: 0.25rem; }
    .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
    .py-3 { padding-top: 0.75rem; padding-bottom: 0.75rem; }
    .mb-1 { margin-bottom: 0.25rem; }
    .mb-2 { margin-bottom: 0.5rem; }
    .mb-3 { margin-bottom: 0.75rem; }
    .mb-4 { margin-bottom: 1rem; }
    .mt-1 { margin-top: 0.25rem; }
    .mt-2 { margin-top: 0.5rem; }
    .ml-1 { margin-left: 0.25rem; }
    .ml-2 { margin-left: 0.5rem; }
    
    /* Border */
    .rounded { border-radius: 0.25rem; }
    .rounded-lg { border-radius: 0.5rem; }
    .rounded-xl { border-radius: 0.75rem; }
    .rounded-2xl { border-radius: 1rem; }
    .rounded-full { border-radius: 9999px; }
    .border { border: 1px solid #e5e7eb; }
    .border-2 { border: 2px solid #e5e7eb; }
    .border-gray-200 { border-color: #e5e7eb; }
    .border-gray-300 { border-color: #d1d5db; }
    .border-green-300 { border-color: #86efac; }
    .border-green-400 { border-color: #4ade80; }
    .border-indigo-400 { border-color: #818cf8; }
    .border-purple-300 { border-color: #d8b4fe; }
    
    /* Misc */
    .shadow { box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
    .shadow-lg { box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1); }
    .shadow-inner { box-shadow: inset 0 2px 4px rgba(0,0,0,0.05); }
    .overflow-x-auto { overflow-x: auto; }
    .whitespace-nowrap { white-space: nowrap; }
    .hidden { display: none; }
    .relative { position: relative; }
    .absolute { position: absolute; }
    .inset-0 { top: 0; right: 0; bottom: 0; left: 0; }
    .z-50 { z-index: 50; }
    .opacity-50 { opacity: 0.5; }
    .scale-110 { transform: scale(1.1); }
    canvas { touch-action: none; }
    
    /* Kana button */
    .kana-btn { width: 2.5rem; height: 2.5rem; border-radius: 0.5rem; font-size: 1.125rem; font-weight: 500; border: none; cursor: pointer; }
    .kana-btn.active { background: #6366f1; color: white; transform: scale(1.1); box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
    .kana-btn.passed { background: #dcfce7; color: #15803d; border: 1px solid #86efac; }
    .kana-btn:not(.active):not(.passed) { background: #f3f4f6; }
    
    /* Small canvas container */
    .small-canvas-grid { display: flex; gap: 0.5rem; justify-content: center; flex-wrap: wrap; padding: 0.5rem; background: #f3f4f6; border-radius: 0.75rem; }
    .small-canvas { border-radius: 0.75rem; border: 2px solid #e5e7eb; background: white; }
    .small-canvas.active { border-color: #818cf8; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
    .small-canvas.done { border-color: #4ade80; background: #f0fdf4; }
    
    /* Nav */
    nav { position: fixed; bottom: 0; left: 0; right: 0; background: white; border-top: 1px solid #e5e7eb; }
    .nav-inner { max-width: 28rem; margin: 0 auto; display: flex; }
    .nav-btn { flex: 1; padding: 0.75rem 0; display: flex; flex-direction: column; align-items: center; gap: 0.25rem; border: none; background: none; cursor: pointer; color: #9ca3af; }
    .nav-btn.active { color: #6366f1; }
    .nav-btn span:first-child { font-size: 1.25rem; }
    .nav-btn span:last-child { font-size: 0.75rem; }
    
    /* Quiz option */
    .quiz-option { padding: 0.75rem; border-radius: 0.75rem; font-size: 1.25rem; font-weight: 500; border: none; cursor: pointer; background: #f3f4f6; }
    .quiz-option:hover { background: #e0e7ff; }
    .quiz-option.correct { background: #22c55e; color: white; }
    .quiz-option.wrong { background: #f3f4f6; color: #d1d5db; }
    .quiz-option:disabled { cursor: not-allowed; }
    
    /* Modal */
    .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 50; padding: 1rem; }
    .modal-content { background: white; border-radius: 1rem; padding: 1.5rem; max-width: 24rem; width: 100%; text-center; animation: celebrate 0.5s ease-in-out; }
    @keyframes celebrate { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
    
    /* Scrollbar hide */
    .hide-scrollbar::-webkit-scrollbar { display: none; }
    .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    
    /* Aspect ratio */
    .aspect-square { aspect-ratio: 1/1; width: 100%; }
    
    /* ë¡œê·¸ì¸ ê´€ë ¨ */
    .login-btn { display: flex; align-items: center; gap: 0.5rem; padding: 0.4rem 0.75rem; background: white; border: 1px solid #ddd; border-radius: 0.5rem; cursor: pointer; font-size: 0.8rem; }
    .login-btn:hover { background: #f3f4f6; }
    .user-info { display: flex; align-items: center; gap: 0.5rem; }
    .user-avatar { width: 1.75rem; height: 1.75rem; border-radius: 50%; }
    .user-name { font-size: 0.75rem; color: #374151; max-width: 80px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
    .sync-status { font-size: 0.6rem; padding: 0.15rem 0.4rem; border-radius: 0.25rem; }
    .sync-status.synced { background: #d1fae5; color: #059669; }
    .sync-status.syncing { background: #fef3c7; color: #d97706; }
    .dropdown { position: relative; }
    .dropdown-menu { position: absolute; top: 100%; right: 0; background: white; border: 1px solid #e5e7eb; border-radius: 0.5rem; box-shadow: 0 4px 12px rgba(0,0,0,0.15); min-width: 160px; z-index: 100; display: none; }
    .dropdown-menu.show { display: block; }
    .dropdown-item { padding: 0.6rem 1rem; cursor: pointer; font-size: 0.85rem; display: flex; align-items: center; gap: 0.5rem; }
    .dropdown-item:hover { background: #f3f4f6; }
    .dropdown-item:first-child { border-radius: 0.5rem 0.5rem 0 0; }
    .dropdown-item:last-child { border-radius: 0 0 0.5rem 0.5rem; }
    .dropdown-divider { border-top: 1px solid #e5e7eb; margin: 0.25rem 0; }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <!-- Firebase SDK -->
  <script type="module">
// Firebase imports
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
import { getAuth, signInWithPopup, signOut, GoogleAuthProvider, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
import { getFirestore, doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

// Firebase ì„¤ì •
const firebaseConfig = {
  apiKey: "AIzaSyAgphZ8FIOMY6vMhcUbg8ZvqkpxxZ_untI",
  authDomain: "jp-tutor-7a967.firebaseapp.com",
  projectId: "jp-tutor-7a967",
  storageBucket: "jp-tutor-7a967.firebasestorage.app",
  messagingSenderId: "937449734884",
  appId: "1:937449734884:web:7827046017d4496363a2f1"
};

// Firebase ì´ˆê¸°í™”
const firebaseApp = initializeApp(firebaseConfig);
const auth = getAuth(firebaseApp);
const db = getFirestore(firebaseApp);
const provider = new GoogleAuthProvider();

// ì „ì—­ ë³€ìˆ˜
let firebaseUser = null;
let syncStatus = 'synced';

// ë¡œê·¸ì¸ ì²˜ë¦¬
window.handleLogin = async function() {
  try {
    const result = await signInWithPopup(auth, provider);
    firebaseUser = result.user;
    
    // í´ë¼ìš°ë“œì— ë°ì´í„° ìˆëŠ”ì§€ í™•ì¸
    const docSnap = await getDoc(doc(db, 'users', firebaseUser.uid));
    if (docSnap.exists()) {
      // í´ë¼ìš°ë“œ ë°ì´í„° ìˆìœ¼ë©´ ë‹¤ìš´ë¡œë“œ
      await downloadFromCloud();
    } else {
      // í´ë¼ìš°ë“œ ë°ì´í„° ì—†ìœ¼ë©´ ë¡œì»¬ ë°ì´í„° ì—…ë¡œë“œ
      await uploadToCloud();
    }
    render();
  } catch (error) {
    console.error('ë¡œê·¸ì¸ ì‹¤íŒ¨:', error);
    alert('ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
  }
};

// ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬
window.handleLogout = async function() {
  try {
    await signOut(auth);
    firebaseUser = null;
    document.getElementById('userDropdown')?.classList.remove('show');
    render();
  } catch (error) {
    console.error('ë¡œê·¸ì•„ì›ƒ ì‹¤íŒ¨:', error);
  }
};

// ì‚¬ìš©ì ë©”ë‰´ í† ê¸€
window.toggleUserMenu = function() {
  const menu = document.getElementById('userDropdown');
  menu?.classList.toggle('show');
};

// í´ë¦­ ì‹œ ë“œë¡­ë‹¤ìš´ ë‹«ê¸°
document.addEventListener('click', (e) => {
  if (!e.target.closest('.dropdown')) {
    document.getElementById('userDropdown')?.classList.remove('show');
  }
});

// í´ë¼ìš°ë“œì— ì €ì¥
async function uploadToCloud() {
  if (!firebaseUser) return;
  
  syncStatus = 'syncing';
  render();
  
  try {
    const allData = {};
    for (let i = 0; i < localStorage.length; i++) {
      const key = localStorage.key(i);
      allData[key] = localStorage.getItem(key);
    }
    
    await setDoc(doc(db, 'users', firebaseUser.uid), {
      data: allData,
      updatedAt: new Date().toISOString()
    });
    
    syncStatus = 'synced';
  } catch (error) {
    console.error('ì—…ë¡œë“œ ì‹¤íŒ¨:', error);
    syncStatus = 'synced';
  }
  render();
}

// í´ë¼ìš°ë“œì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°
async function downloadFromCloud() {
  if (!firebaseUser) return;
  
  syncStatus = 'syncing';
  render();
  
  try {
    const docSnap = await getDoc(doc(db, 'users', firebaseUser.uid));
    
    if (docSnap.exists()) {
      const cloudData = docSnap.data().data;
      for (const [key, value] of Object.entries(cloudData)) {
        localStorage.setItem(key, value);
      }
      // ìƒíƒœ ë‹¤ì‹œ ë¡œë“œ
      location.reload();
    }
    syncStatus = 'synced';
  } catch (error) {
    console.error('ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨:', error);
    syncStatus = 'synced';
  }
}

// ì§€ê¸ˆ ë™ê¸°í™”
window.syncNow = async function() {
  document.getElementById('userDropdown')?.classList.remove('show');
  await uploadToCloud();
  alert('ë™ê¸°í™” ì™„ë£Œ!');
};

// ì¸ì¦ ìƒíƒœ ê°ì§€
onAuthStateChanged(auth, (user) => {
  firebaseUser = user;
  if (typeof render === 'function') render();
});

// ë°ì´í„° ë³€ê²½ ì‹œ ìë™ ì €ì¥ (ë””ë°”ìš´ìŠ¤)
let saveTimeout = null;
window.autoSaveToCloud = function() {
  if (!firebaseUser) return;
  
  clearTimeout(saveTimeout);
  saveTimeout = setTimeout(() => {
    uploadToCloud();
  }, 3000); // 3ì´ˆ í›„ ì €ì¥
};

// í˜ì´ì§€ ë– ë‚  ë•Œ ì¦‰ì‹œ ì €ì¥
window.addEventListener('beforeunload', () => {
  if (firebaseUser && saveTimeout) {
    clearTimeout(saveTimeout);
    // ë™ê¸° ë°©ì‹ìœ¼ë¡œ ì €ì¥ ì‹œë„ (navigator.sendBeacon ì‚¬ìš© ë¶ˆê°€í•˜ë¯€ë¡œ localStorageë§Œ í™•ì‹¤íˆ ì €ì¥)
  }
});

// í˜ì´ì§€ ìˆ¨ê²¨ì§ˆ ë•Œ ì €ì¥ (ëª¨ë°”ì¼ ë“±)
document.addEventListener('visibilitychange', () => {
  if (document.visibilityState === 'hidden' && firebaseUser) {
    uploadToCloud();
  }
});

// firebaseUserë¥¼ windowì— ë…¸ì¶œ
window.getFirebaseUser = () => firebaseUser;
window.getSyncStatus = () => syncStatus;
</script>

<script>
// ===== ë°ì´í„° =====
const HIRAGANA = {
  'ã‚í–‰': [
    { kana: 'ã‚', romaji: 'a', strokes: 3, order: 'â‘  ê°€ë¡œ â†’ â‘¡ ì„¸ë¡œ+êº¾ì„ â†’ â‘¢ ë™ê·¸ë¼ë¯¸', mnemonic: '"ì•„!"', img: 'ğŸ‘„' },
    { kana: 'ã„', romaji: 'i', strokes: 2, order: 'â‘  ì™¼ì„¸ë¡œ â†’ â‘¡ ì˜¤ë¥¸ì„¸ë¡œ', mnemonic: 'ë‘ ì‚¬ëŒ', img: 'ğŸ‘¯' },
    { kana: 'ã†', romaji: 'u', strokes: 2, order: 'â‘  ìœ„ ê°€ë¡œ â†’ â‘¡ ê³¡ì„ ', mnemonic: '"ìš°~"', img: 'ğŸ˜—' },
    { kana: 'ãˆ', romaji: 'e', strokes: 2, order: 'â‘  ìœ„ ê°€ë¡œ â†’ â‘¡ ì•„ë˜ ê³¡ì„ ', mnemonic: 'ì—ë„ˆì§€', img: 'âš¡' },
    { kana: 'ãŠ', romaji: 'o', strokes: 3, order: 'â‘  ê°€ë¡œ â†’ â‘¡ ì„¸ë¡œ â†’ â‘¢ ë™ê·¸ë¼ë¯¸', mnemonic: '"ì˜¤~"', img: 'â›³' },
  ],
  'ã‹í–‰': [
    { kana: 'ã‹', romaji: 'ka', strokes: 3, order: 'â‘  ê°€ë¡œ â†’ â‘¡ ì„¸ë¡œ+êº¾ì„ â†’ â‘¢ ì‚ì¹¨', mnemonic: 'ì¹¼', img: 'ğŸ”ª' },
    { kana: 'ã', romaji: 'ki', strokes: 4, order: 'â‘  ìœ„ê°€ë¡œ â†’ â‘¡ ì•„ë˜ê°€ë¡œ â†’ â‘¢ ì„¸ë¡œ â†’ â‘£ ì ', mnemonic: 'ì—´ì‡ ', img: 'ğŸ”‘' },
    { kana: 'ã', romaji: 'ku', strokes: 1, order: 'â‘  êº¾ì¸ ì„ ', mnemonic: 'ì¿ ì…˜', img: 'â†©ï¸' },
    { kana: 'ã‘', romaji: 'ke', strokes: 3, order: 'â‘  ì™¼ì„¸ë¡œ â†’ â‘¡ ê°€ë¡œ â†’ â‘¢ ì˜¤ë¥¸ì„¸ë¡œ', mnemonic: 'ì¼€ì´í¬', img: 'ğŸ°' },
    { kana: 'ã“', romaji: 'ko', strokes: 2, order: 'â‘  ìœ„ ê°€ë¡œ â†’ â‘¡ ì•„ë˜ ê°€ë¡œ', mnemonic: 'ì½”ì¸', img: 'ğŸª™' },
  ],
  'ã•í–‰': [
    { kana: 'ã•', romaji: 'sa', strokes: 3, order: 'â‘  ê°€ë¡œ â†’ â‘¡ ì„¸ë¡œ+êº¾ì„ â†’ â‘¢ ë™ê·¸ë¼ë¯¸', mnemonic: 'ì‚¬ë¬´ë¼ì´', img: 'âš”ï¸' },
    { kana: 'ã—', romaji: 'shi', strokes: 1, order: 'â‘  ê³¡ì„ ', mnemonic: 'ë‚šì‹¯ì¤„', img: 'ğŸ£' },
    { kana: 'ã™', romaji: 'su', strokes: 2, order: 'â‘  ê°€ë¡œ+ì„¸ë¡œ â†’ â‘¡ ë™ê·¸ë¼ë¯¸', mnemonic: 'ìŠ¤ìœ™', img: 'ğŸŒï¸' },
    { kana: 'ã›', romaji: 'se', strokes: 3, order: 'â‘  ì„¸ë¡œ â†’ â‘¡ ê°€ë¡œ â†’ â‘¢ ê³¡ì„ ', mnemonic: 'say', img: 'ğŸ’¬' },
    { kana: 'ã', romaji: 'so', strokes: 1, order: 'â‘  ê³¡ì„ ', mnemonic: 'ì†Œìš©ëŒì´', img: 'ğŸŒ€' },
  ],
  'ãŸí–‰': [
    { kana: 'ãŸ', romaji: 'ta', strokes: 4, order: 'â‘  ê°€ë¡œ â†’ â‘¡ ì„¸ë¡œ â†’ â‘¢ ê°€ë¡œ â†’ â‘£ ì‚ì¹¨', mnemonic: 'íƒ€ì›Œ', img: 'ğŸ—¼' },
    { kana: 'ã¡', romaji: 'chi', strokes: 2, order: 'â‘  ê°€ë¡œ+êº¾ì„ â†’ â‘¡ ë™ê·¸ë¼ë¯¸', mnemonic: 'ì¹˜ì–´ë¦¬ë”', img: 'ğŸ“£' },
    { kana: 'ã¤', romaji: 'tsu', strokes: 1, order: 'â‘  ê³¡ì„ ', mnemonic: 'ì“°ë‚˜ë¯¸', img: 'ğŸŒŠ' },
    { kana: 'ã¦', romaji: 'te', strokes: 1, order: 'â‘  ê³¡ì„ ', mnemonic: 'ì†', img: 'âœ‹' },
    { kana: 'ã¨', romaji: 'to', strokes: 2, order: 'â‘  ì„¸ë¡œ+êº¾ì„ â†’ â‘¡ ì ', mnemonic: 'í† ë„¤ì´ë„', img: 'ğŸŒªï¸' },
  ],
  'ãªí–‰': [
    { kana: 'ãª', romaji: 'na', strokes: 4, order: 'â‘  ê°€ë¡œ â†’ â‘¡ ì„¸ë¡œ+êº¾ì„ â†’ â‘¢ ì  â†’ â‘£ ë™ê·¸ë¼ë¯¸', mnemonic: 'ë§¤ë“­', img: 'ğŸª¢' },
    { kana: 'ã«', romaji: 'ni', strokes: 3, order: 'â‘  ì™¼ì„¸ë¡œ â†’ â‘¡ ê°€ë¡œ â†’ â‘¢ ì˜¤ë¥¸ì„¸ë¡œ', mnemonic: 'ë¬´ë¦', img: 'ğŸ¦µ' },
    { kana: 'ã¬', romaji: 'nu', strokes: 2, order: 'â‘  ì™¼ìª½ â†’ â‘¡ ì˜¤ë¥¸ìª½', mnemonic: 'ëˆ„ë“¤', img: 'ğŸœ' },
    { kana: 'ã­', romaji: 'ne', strokes: 2, order: 'â‘  ì™¼ìª½ â†’ â‘¡ ì˜¤ë¥¸ìª½', mnemonic: 'ê³ ì–‘ì´', img: 'ğŸ±' },
    { kana: 'ã®', romaji: 'no', strokes: 1, order: 'â‘  ë™ê·¸ë¼ë¯¸', mnemonic: 'NO', img: 'ğŸš«' },
  ],
  'ã¯í–‰': [
    { kana: 'ã¯', romaji: 'ha', strokes: 3, order: 'â‘  ì™¼ì„¸ë¡œ â†’ â‘¡ ì˜¤ë¥¸ìœ„ â†’ â‘¢ ì˜¤ë¥¸ì•„ë˜', mnemonic: 'í•˜í•˜', img: 'ğŸ˜„' },
    { kana: 'ã²', romaji: 'hi', strokes: 1, order: 'â‘  ê³¡ì„ ', mnemonic: 'íˆíˆ', img: 'ğŸ˜Š' },
    { kana: 'ãµ', romaji: 'fu', strokes: 4, order: 'â‘  ì  â†’ â‘¡ ì  â†’ â‘¢ ì  â†’ â‘£ ê³¡ì„ ', mnemonic: 'í›„~', img: 'ğŸ’¨' },
    { kana: 'ã¸', romaji: 'he', strokes: 1, order: 'â‘  ì‚° ëª¨ì–‘', mnemonic: 'ì‚°', img: 'â›°ï¸' },
    { kana: 'ã»', romaji: 'ho', strokes: 4, order: 'â‘  ì™¼ì„¸ë¡œ â†’ â‘¡ ê°€ë¡œ â†’ â‘¢ ì˜¤ë¥¸ìª½ â†’ â‘£ ì ', mnemonic: 'í˜¸í˜¸', img: 'ğŸ…' },
  ],
  'ã¾í–‰': [
    { kana: 'ã¾', romaji: 'ma', strokes: 3, order: 'â‘  ê°€ë¡œ â†’ â‘¡ ê°€ë¡œ â†’ â‘¢ ì„¸ë¡œ+ë™ê·¸ë¼ë¯¸', mnemonic: 'ë§ˆë§ˆ', img: 'ğŸ‘©' },
    { kana: 'ã¿', romaji: 'mi', strokes: 2, order: 'â‘  ìœ„ â†’ â‘¡ ì•„ë˜', mnemonic: 'ë¯¸ì†Œ', img: 'ğŸ˜€' },
    { kana: 'ã‚€', romaji: 'mu', strokes: 3, order: 'â‘  ì„¸ë¡œ â†’ â‘¡ ê³¡ì„  â†’ â‘¢ ì ', mnemonic: 'ë¬´~', img: 'ğŸ„' },
    { kana: 'ã‚', romaji: 'me', strokes: 2, order: 'â‘  ì™¼ìª½ â†’ â‘¡ ì˜¤ë¥¸ìª½', mnemonic: 'ëˆˆ', img: 'ğŸ‘ï¸' },
    { kana: 'ã‚‚', romaji: 'mo', strokes: 3, order: 'â‘  ê°€ë¡œ â†’ â‘¡ ê°€ë¡œ â†’ â‘¢ ì„¸ë¡œ+ê³¡ì„ ', mnemonic: 'ëª¨ì', img: 'ğŸ©' },
  ],
  'ã‚„í–‰': [
    { kana: 'ã‚„', romaji: 'ya', strokes: 3, order: 'â‘  ì‚ì¹¨ â†’ â‘¡ ê°€ë¡œ+ì„¸ë¡œ â†’ â‘¢ ì˜¤ë¥¸ìª½', mnemonic: 'ì•¼í˜¸', img: 'ğŸ™Œ' },
    { kana: 'ã‚†', romaji: 'yu', strokes: 2, order: 'â‘  ì™¼ìª½ â†’ â‘¡ ì˜¤ë¥¸ìª½', mnemonic: 'ìœ ë ¹', img: 'ğŸ‘»' },
    { kana: 'ã‚ˆ', romaji: 'yo', strokes: 2, order: 'â‘  ê°€ë¡œ+ì„¸ë¡œ â†’ â‘¡ ë™ê·¸ë¼ë¯¸', mnemonic: 'ìš”ìš”', img: 'ğŸª€' },
  ],
  'ã‚‰í–‰': [
    { kana: 'ã‚‰', romaji: 'ra', strokes: 2, order: 'â‘  ìœ„ â†’ â‘¡ ì•„ë˜', mnemonic: 'ë¼ë©´', img: 'ğŸœ' },
    { kana: 'ã‚Š', romaji: 'ri', strokes: 2, order: 'â‘  ì™¼ìª½ â†’ â‘¡ ì˜¤ë¥¸ìª½', mnemonic: 'ë¦¬ë³¸', img: 'ğŸ€' },
    { kana: 'ã‚‹', romaji: 'ru', strokes: 1, order: 'â‘  ê³¡ì„ +ë™ê·¸ë¼ë¯¸', mnemonic: 'ë£¨í”„', img: 'â°' },
    { kana: 'ã‚Œ', romaji: 're', strokes: 2, order: 'â‘  ì™¼ìª½ â†’ â‘¡ ì˜¤ë¥¸ìª½', mnemonic: 'ë ˆì´ìŠ¤', img: 'ğŸ' },
    { kana: 'ã‚', romaji: 'ro', strokes: 1, order: 'â‘  ê³¡ì„ ', mnemonic: 'ë¡œë´‡', img: 'ğŸ¤–' },
  ],
  'ã‚í–‰': [
    { kana: 'ã‚', romaji: 'wa', strokes: 2, order: 'â‘  ì™¼ìª½ â†’ â‘¡ ì˜¤ë¥¸ìª½', mnemonic: 'ì™€~', img: 'ğŸ˜²' },
    { kana: 'ã‚’', romaji: 'wo', strokes: 3, order: 'â‘  ê°€ë¡œ â†’ â‘¡ ê°€ë¡œ â†’ â‘¢ ì•„ë˜', mnemonic: 'ì›Œ~', img: 'ğŸ¤©' },
    { kana: 'ã‚“', romaji: 'n', strokes: 1, order: 'â‘  ê³¡ì„ ', mnemonic: 'ì‘~', img: 'ğŸ˜Œ' },
  ],
};

const KATAKANA = {
  'ã‚¢í–‰': [
    { kana: 'ã‚¢', romaji: 'a', strokes: 2, order: 'â‘  ê°€ë¡œ â†’ â‘¡ ì‚ì¹¨', mnemonic: 'ì•ˆí…Œë‚˜', img: 'ğŸ“¡' },
    { kana: 'ã‚¤', romaji: 'i', strokes: 2, order: 'â‘  ì‚ì¹¨ â†’ â‘¡ ì„¸ë¡œ', mnemonic: 'ì´ê¸€', img: 'ğŸ¦…' },
    { kana: 'ã‚¦', romaji: 'u', strokes: 3, order: 'â‘  ì  â†’ â‘¡ ê°€ë¡œ â†’ â‘¢ ì„¸ë¡œ', mnemonic: 'ìœ„', img: 'â¬†ï¸' },
    { kana: 'ã‚¨', romaji: 'e', strokes: 3, order: 'â‘  ìœ„ê°€ë¡œ â†’ â‘¡ ì„¸ë¡œ â†’ â‘¢ ì•„ë˜ê°€ë¡œ', mnemonic: 'ì—˜ë¦¬ë² ì´í„°', img: 'ğŸ›—' },
    { kana: 'ã‚ª', romaji: 'o', strokes: 3, order: 'â‘  ê°€ë¡œ â†’ â‘¡ ì„¸ë¡œ â†’ â‘¢ ì‚ì¹¨', mnemonic: 'ì˜¤í˜ë¼', img: 'ğŸ­' },
  ],
  'ã‚«í–‰': [
    { kana: 'ã‚«', romaji: 'ka', strokes: 2, order: 'â‘  ì„¸ë¡œ+êº¾ì„ â†’ â‘¡ ì‚ì¹¨', mnemonic: 'ì¹¼', img: 'âš”ï¸' },
    { kana: 'ã‚­', romaji: 'ki', strokes: 3, order: 'â‘  ê°€ë¡œ â†’ â‘¡ ê°€ë¡œ â†’ â‘¢ ì„¸ë¡œ', mnemonic: 'í‚¤', img: 'ğŸ”' },
    { kana: 'ã‚¯', romaji: 'ku', strokes: 2, order: 'â‘  ì‚ì¹¨ â†’ â‘¡ êº¾ì„', mnemonic: 'ì¿ í‚¤', img: 'ğŸª' },
    { kana: 'ã‚±', romaji: 'ke', strokes: 3, order: 'â‘  ì‚ì¹¨ â†’ â‘¡ ê°€ë¡œ â†’ â‘¢ ì„¸ë¡œ', mnemonic: 'K', img: 'ğŸ”¤' },
    { kana: 'ã‚³', romaji: 'ko', strokes: 2, order: 'â‘  ã„±ëª¨ì–‘ â†’ â‘¡ ì•„ë˜ê°€ë¡œ', mnemonic: 'ì½”ë„ˆ', img: 'ğŸ“' },
  ],
  'ã‚µí–‰': [
    { kana: 'ã‚µ', romaji: 'sa', strokes: 3, order: 'â‘  ê°€ë¡œ â†’ â‘¡ ì„¸ë¡œ â†’ â‘¢ ì„¸ë¡œ', mnemonic: 'ì‚¬ë‹¤ë¦¬', img: 'ğŸªœ' },
    { kana: 'ã‚·', romaji: 'shi', strokes: 3, order: 'â‘  ì  â†’ â‘¡ ì  â†’ â‘¢ ê³¡ì„ ', mnemonic: 'ì‹œ~', img: 'ğŸ˜‰' },
    { kana: 'ã‚¹', romaji: 'su', strokes: 2, order: 'â‘  ì‚ì¹¨ â†’ â‘¡ êº¾ì„', mnemonic: 'ìŠ¤í‚¤', img: 'â›·ï¸' },
    { kana: 'ã‚»', romaji: 'se', strokes: 2, order: 'â‘  ì„¸ë¡œ+ê°€ë¡œ â†’ â‘¡ ì‚ì¹¨', mnemonic: 'ì„¸íŠ¸', img: 'ğŸ“¦' },
    { kana: 'ã‚½', romaji: 'so', strokes: 2, order: 'â‘  ì  â†’ â‘¡ ì‚ì¹¨', mnemonic: 'ì†Œë‚˜ê¸°', img: 'ğŸŒ§ï¸' },
  ],
  'ã‚¿í–‰': [
    { kana: 'ã‚¿', romaji: 'ta', strokes: 3, order: 'â‘  ì‚ì¹¨ â†’ â‘¡ ê°€ë¡œ â†’ â‘¢ ì‚ì¹¨', mnemonic: 'íƒ€', img: 'ğŸ¯' },
    { kana: 'ãƒ', romaji: 'chi', strokes: 3, order: 'â‘  ê°€ë¡œ â†’ â‘¡ ê°€ë¡œ â†’ â‘¢ ì‚ì¹¨', mnemonic: 'ì¹˜ì¦ˆ', img: 'ğŸ§€' },
    { kana: 'ãƒ„', romaji: 'tsu', strokes: 3, order: 'â‘  ì  â†’ â‘¡ ì  â†’ â‘¢ ì‚ì¹¨', mnemonic: 'ì“°~', img: 'ğŸ’¦' },
    { kana: 'ãƒ†', romaji: 'te', strokes: 3, order: 'â‘  ê°€ë¡œ â†’ â‘¡ ê°€ë¡œ â†’ â‘¢ ì‚ì¹¨', mnemonic: 'í…Œì´ë¸”', img: 'ğŸª‘' },
    { kana: 'ãƒˆ', romaji: 'to', strokes: 2, order: 'â‘  ì„¸ë¡œ â†’ â‘¡ ì‚ì¹¨', mnemonic: 'í† ìŠ¤íŠ¸', img: 'ğŸ' },
  ],
  'ãƒŠí–‰': [
    { kana: 'ãƒŠ', romaji: 'na', strokes: 2, order: 'â‘  ê°€ë¡œ â†’ â‘¡ ì‚ì¹¨', mnemonic: 'ë‚˜', img: 'ğŸ™‹' },
    { kana: 'ãƒ‹', romaji: 'ni', strokes: 2, order: 'â‘  ìœ„ê°€ë¡œ â†’ â‘¡ ì•„ë˜ê°€ë¡œ', mnemonic: 'ë‹ˆ=2', img: 'âœŒï¸' },
    { kana: 'ãƒŒ', romaji: 'nu', strokes: 2, order: 'â‘  ì‚ì¹¨ â†’ â‘¡ X', mnemonic: 'ëˆ„ë“¤', img: 'ğŸ' },
    { kana: 'ãƒ', romaji: 'ne', strokes: 4, order: 'â‘  ì  â†’ â‘¡ ê°€ë¡œì„¸ë¡œ â†’ â‘¢ ì‚ì¹¨ â†’ â‘£ ì‚ì¹¨', mnemonic: 'ë„¤íŠ¸', img: 'ğŸ¥…' },
    { kana: 'ãƒ', romaji: 'no', strokes: 1, order: 'â‘  ì‚ì¹¨', mnemonic: 'ë…¸~', img: 'ğŸ“' },
  ],
  'ãƒí–‰': [
    { kana: 'ãƒ', romaji: 'ha', strokes: 2, order: 'â‘  ì™¼ì‚ì¹¨ â†’ â‘¡ ì˜¤ë¥¸ì‚ì¹¨', mnemonic: 'í•˜í•˜', img: 'ğŸ˜†' },
    { kana: 'ãƒ’', romaji: 'hi', strokes: 2, order: 'â‘  ì„¸ë¡œ â†’ â‘¡ êº¾ì„', mnemonic: 'íˆ~', img: 'ğŸ¤­' },
    { kana: 'ãƒ•', romaji: 'fu', strokes: 1, order: 'â‘  êº¾ì„', mnemonic: 'í›„~', img: 'ğŸŒ¬ï¸' },
    { kana: 'ãƒ˜', romaji: 'he', strokes: 1, order: 'â‘  ì‚°ëª¨ì–‘', mnemonic: 'ì‚°', img: 'ğŸ”ï¸' },
    { kana: 'ãƒ›', romaji: 'ho', strokes: 4, order: 'â‘  ê°€ë¡œ â†’ â‘¡ ì„¸ë¡œ â†’ â‘¢ ì™¼ì‚ì¹¨ â†’ â‘£ ì˜¤ë¥¸ì‚ì¹¨', mnemonic: 'í˜¸~', img: 'ğŸ„' },
  ],
  'ãƒí–‰': [
    { kana: 'ãƒ', romaji: 'ma', strokes: 2, order: 'â‘  ê°€ë¡œ+êº¾ì„ â†’ â‘¡ ì‚ì¹¨', mnemonic: 'ë§ˆ~', img: 'ğŸ´' },
    { kana: 'ãƒŸ', romaji: 'mi', strokes: 3, order: 'â‘  ê°€ë¡œ â†’ â‘¡ ê°€ë¡œ â†’ â‘¢ ê°€ë¡œ', mnemonic: 'ë¯¸=3', img: '3ï¸âƒ£' },
    { kana: 'ãƒ ', romaji: 'mu', strokes: 2, order: 'â‘  êº¾ì„ â†’ â‘¡ ì‚ì¹¨', mnemonic: 'ë¬´~', img: 'ğŸ®' },
    { kana: 'ãƒ¡', romaji: 'me', strokes: 2, order: 'â‘  ì‚ì¹¨ â†’ â‘¡ ì‚ì¹¨', mnemonic: 'X', img: 'âŒ' },
    { kana: 'ãƒ¢', romaji: 'mo', strokes: 3, order: 'â‘  ê°€ë¡œ â†’ â‘¡ ê°€ë¡œ â†’ â‘¢ ì„¸ë¡œ', mnemonic: 'ëª¨~', img: 'ğŸ”²' },
  ],
  'ãƒ¤í–‰': [
    { kana: 'ãƒ¤', romaji: 'ya', strokes: 2, order: 'â‘  ì‚ì¹¨+ê°€ë¡œ â†’ â‘¡ ì„¸ë¡œ', mnemonic: 'ì•¼~', img: 'ğŸ‰' },
    { kana: 'ãƒ¦', romaji: 'yu', strokes: 2, order: 'â‘  ì„¸ë¡œ+ê°€ë¡œ â†’ â‘¡ ì„¸ë¡œ', mnemonic: 'ìœ ~', img: 'ğŸ›' },
    { kana: 'ãƒ¨', romaji: 'yo', strokes: 3, order: 'â‘  ê°€ë¡œ â†’ â‘¡ ê°€ë¡œ â†’ â‘¢ ì„¸ë¡œ+ê°€ë¡œ', mnemonic: 'ìš”~', img: 'ğŸª†' },
  ],
  'ãƒ©í–‰': [
    { kana: 'ãƒ©', romaji: 'ra', strokes: 2, order: 'â‘  ê°€ë¡œ+êº¾ì„ â†’ â‘¡ ì‚ì¹¨', mnemonic: 'ë¼~', img: 'ğŸµ' },
    { kana: 'ãƒª', romaji: 'ri', strokes: 2, order: 'â‘  ì™¼ì„¸ë¡œ â†’ â‘¡ ì˜¤ë¥¸ì„¸ë¡œ', mnemonic: 'ë¦¬~', img: 'ğŸ¶' },
    { kana: 'ãƒ«', romaji: 'ru', strokes: 2, order: 'â‘  ì„¸ë¡œ â†’ â‘¡ êº¾ì„', mnemonic: 'ë£¨~', img: 'ğŸ”·' },
    { kana: 'ãƒ¬', romaji: 're', strokes: 1, order: 'â‘  êº¾ì„', mnemonic: 'ë ˆ~', img: 'â†—ï¸' },
    { kana: 'ãƒ­', romaji: 'ro', strokes: 3, order: 'â‘  ã…ëª¨ì–‘', mnemonic: 'ë¡œ~', img: 'â¬œ' },
  ],
  'ãƒ¯í–‰': [
    { kana: 'ãƒ¯', romaji: 'wa', strokes: 2, order: 'â‘  ì„¸ë¡œ+êº¾ì„ â†’ â‘¡ ì‚ì¹¨', mnemonic: 'ì™€~', img: 'ğŸŠ' },
    { kana: 'ãƒ²', romaji: 'wo', strokes: 3, order: 'â‘  ê°€ë¡œ â†’ â‘¡ ê°€ë¡œ+êº¾ì„ â†’ â‘¢ ì‚ì¹¨', mnemonic: 'ì›Œ~', img: 'âœ¨' },
    { kana: 'ãƒ³', romaji: 'n', strokes: 2, order: 'â‘  ì  â†’ â‘¡ ê³¡ì„ ', mnemonic: 'ì‘~', img: 'ğŸ˜Š' },
  ],
};

const DAKUTEN = {
  'ãŒí–‰': [
    { kana: 'ãŒ', romaji: 'ga', strokes: 4, order: 'ã‹ + ã‚›', img: 'ğŸ”µ' },
    { kana: 'ã', romaji: 'gi', strokes: 5, order: 'ã + ã‚›', img: 'ğŸ”µ' },
    { kana: 'ã', romaji: 'gu', strokes: 2, order: 'ã + ã‚›', img: 'ğŸ”µ' },
    { kana: 'ã’', romaji: 'ge', strokes: 4, order: 'ã‘ + ã‚›', img: 'ğŸ”µ' },
    { kana: 'ã”', romaji: 'go', strokes: 3, order: 'ã“ + ã‚›', img: 'ğŸ”µ' },
  ],
  'ã–í–‰': [
    { kana: 'ã–', romaji: 'za', strokes: 4, order: 'ã• + ã‚›', img: 'ğŸ”µ' },
    { kana: 'ã˜', romaji: 'ji', strokes: 2, order: 'ã— + ã‚›', img: 'ğŸ”µ' },
    { kana: 'ãš', romaji: 'zu', strokes: 3, order: 'ã™ + ã‚›', img: 'ğŸ”µ' },
    { kana: 'ãœ', romaji: 'ze', strokes: 4, order: 'ã› + ã‚›', img: 'ğŸ”µ' },
    { kana: 'ã', romaji: 'zo', strokes: 2, order: 'ã + ã‚›', img: 'ğŸ”µ' },
  ],
  'ã í–‰': [
    { kana: 'ã ', romaji: 'da', strokes: 5, order: 'ãŸ + ã‚›', img: 'ğŸ”µ' },
    { kana: 'ã¢', romaji: 'di', strokes: 3, order: 'ã¡ + ã‚›', img: 'ğŸ”µ' },
    { kana: 'ã¥', romaji: 'du', strokes: 2, order: 'ã¤ + ã‚›', img: 'ğŸ”µ' },
    { kana: 'ã§', romaji: 'de', strokes: 2, order: 'ã¦ + ã‚›', img: 'ğŸ”µ' },
    { kana: 'ã©', romaji: 'do', strokes: 3, order: 'ã¨ + ã‚›', img: 'ğŸ”µ' },
  ],
  'ã°í–‰': [
    { kana: 'ã°', romaji: 'ba', strokes: 4, order: 'ã¯ + ã‚›', img: 'ğŸ”µ' },
    { kana: 'ã³', romaji: 'bi', strokes: 2, order: 'ã² + ã‚›', img: 'ğŸ”µ' },
    { kana: 'ã¶', romaji: 'bu', strokes: 5, order: 'ãµ + ã‚›', img: 'ğŸ”µ' },
    { kana: 'ã¹', romaji: 'be', strokes: 2, order: 'ã¸ + ã‚›', img: 'ğŸ”µ' },
    { kana: 'ã¼', romaji: 'bo', strokes: 5, order: 'ã» + ã‚›', img: 'ğŸ”µ' },
  ],
  'ã±í–‰': [
    { kana: 'ã±', romaji: 'pa', strokes: 4, order: 'ã¯ + ã‚œ', img: 'â­•' },
    { kana: 'ã´', romaji: 'pi', strokes: 2, order: 'ã² + ã‚œ', img: 'â­•' },
    { kana: 'ã·', romaji: 'pu', strokes: 5, order: 'ãµ + ã‚œ', img: 'â­•' },
    { kana: 'ãº', romaji: 'pe', strokes: 2, order: 'ã¸ + ã‚œ', img: 'â­•' },
    { kana: 'ã½', romaji: 'po', strokes: 5, order: 'ã» + ã‚œ', img: 'â­•' },
  ],
};

const YOUON = {
  'ãã‚ƒí–‰': [
    { kana: 'ãã‚ƒ', romaji: 'kya', strokes: 6, order: 'ã + ì‘ì€ã‚„', img: 'ğŸ”¸' },
    { kana: 'ãã‚…', romaji: 'kyu', strokes: 6, order: 'ã + ì‘ì€ã‚†', img: 'ğŸ”¸' },
    { kana: 'ãã‚‡', romaji: 'kyo', strokes: 6, order: 'ã + ì‘ì€ã‚ˆ', img: 'ğŸ”¸' },
  ],
  'ã—ã‚ƒí–‰': [
    { kana: 'ã—ã‚ƒ', romaji: 'sha', strokes: 4, order: 'ã— + ì‘ì€ã‚„', img: 'ğŸ”¸' },
    { kana: 'ã—ã‚…', romaji: 'shu', strokes: 3, order: 'ã— + ì‘ì€ã‚†', img: 'ğŸ”¸' },
    { kana: 'ã—ã‚‡', romaji: 'sho', strokes: 3, order: 'ã— + ì‘ì€ã‚ˆ', img: 'ğŸ”¸' },
  ],
  'ã¡ã‚ƒí–‰': [
    { kana: 'ã¡ã‚ƒ', romaji: 'cha', strokes: 5, order: 'ã¡ + ì‘ì€ã‚„', img: 'ğŸ”¸' },
    { kana: 'ã¡ã‚…', romaji: 'chu', strokes: 4, order: 'ã¡ + ì‘ì€ã‚†', img: 'ğŸ”¸' },
    { kana: 'ã¡ã‚‡', romaji: 'cho', strokes: 4, order: 'ã¡ + ì‘ì€ã‚ˆ', img: 'ğŸ”¸' },
  ],
  'ã«ã‚ƒí–‰': [
    { kana: 'ã«ã‚ƒ', romaji: 'nya', strokes: 6, order: 'ã« + ì‘ì€ã‚„', img: 'ğŸ”¸' },
    { kana: 'ã«ã‚…', romaji: 'nyu', strokes: 5, order: 'ã« + ì‘ì€ã‚†', img: 'ğŸ”¸' },
    { kana: 'ã«ã‚‡', romaji: 'nyo', strokes: 5, order: 'ã« + ì‘ì€ã‚ˆ', img: 'ğŸ”¸' },
  ],
  'ã²ã‚ƒí–‰': [
    { kana: 'ã²ã‚ƒ', romaji: 'hya', strokes: 4, order: 'ã² + ì‘ì€ã‚„', img: 'ğŸ”¸' },
    { kana: 'ã²ã‚…', romaji: 'hyu', strokes: 3, order: 'ã² + ì‘ì€ã‚†', img: 'ğŸ”¸' },
    { kana: 'ã²ã‚‡', romaji: 'hyo', strokes: 3, order: 'ã² + ì‘ì€ã‚ˆ', img: 'ğŸ”¸' },
  ],
  'ã¿ã‚ƒí–‰': [
    { kana: 'ã¿ã‚ƒ', romaji: 'mya', strokes: 5, order: 'ã¿ + ì‘ì€ã‚„', img: 'ğŸ”¸' },
    { kana: 'ã¿ã‚…', romaji: 'myu', strokes: 4, order: 'ã¿ + ì‘ì€ã‚†', img: 'ğŸ”¸' },
    { kana: 'ã¿ã‚‡', romaji: 'myo', strokes: 4, order: 'ã¿ + ì‘ì€ã‚ˆ', img: 'ğŸ”¸' },
  ],
  'ã‚Šã‚ƒí–‰': [
    { kana: 'ã‚Šã‚ƒ', romaji: 'rya', strokes: 5, order: 'ã‚Š + ì‘ì€ã‚„', img: 'ğŸ”¸' },
    { kana: 'ã‚Šã‚…', romaji: 'ryu', strokes: 4, order: 'ã‚Š + ì‘ì€ã‚†', img: 'ğŸ”¸' },
    { kana: 'ã‚Šã‚‡', romaji: 'ryo', strokes: 4, order: 'ã‚Š + ì‘ì€ã‚ˆ', img: 'ğŸ”¸' },
  ],
};

const ALL_HIRAGANA = Object.values(HIRAGANA).flat();
const ALL_KATAKANA = Object.values(KATAKANA).flat();
const ALL_DAKUTEN = Object.values(DAKUTEN).flat();
const ALL_YOUON = Object.values(YOUON).flat();

const TYPE_DATA = { hiragana: HIRAGANA, katakana: KATAKANA, dakuten: DAKUTEN, youon: YOUON };
const TYPE_ALL = { hiragana: ALL_HIRAGANA, katakana: ALL_KATAKANA, dakuten: ALL_DAKUTEN, youon: ALL_YOUON };
// ===== ì‹¬í™”í•™ìŠµ ë°ì´í„° =====

const ADVANCED_DATA = {
  // ìˆ«ì í™•ì¥
  numbers: {
    basic: [
      {jp:'ã„ã¡',n:'ä¸€',r:'ichi',v:1},{jp:'ã«',n:'äºŒ',r:'ni',v:2},{jp:'ã•ã‚“',n:'ä¸‰',r:'san',v:3},
      {jp:'ã‚ˆã‚“/ã—',n:'å››',r:'yon/shi',v:4},{jp:'ã”',n:'äº”',r:'go',v:5},{jp:'ã‚ã',n:'å…­',r:'roku',v:6},
      {jp:'ãªãª/ã—ã¡',n:'ä¸ƒ',r:'nana/shichi',v:7},{jp:'ã¯ã¡',n:'å…«',r:'hachi',v:8},
      {jp:'ãã‚…ã†/ã',n:'ä¹',r:'kyuu/ku',v:9},{jp:'ã˜ã‚…ã†',n:'å',r:'juu',v:10}
    ],
    tens: [
      {jp:'ã˜ã‚…ã†ã„ã¡',n:'åä¸€',r:'juuichi',v:11},{jp:'ã˜ã‚…ã†ã«',n:'åäºŒ',r:'juuni',v:12},
      {jp:'ã«ã˜ã‚…ã†',n:'äºŒå',r:'nijuu',v:20},{jp:'ã•ã‚“ã˜ã‚…ã†',n:'ä¸‰å',r:'sanjuu',v:30},
      {jp:'ã‚ˆã‚“ã˜ã‚…ã†',n:'å››å',r:'yonjuu',v:40},{jp:'ã”ã˜ã‚…ã†',n:'äº”å',r:'gojuu',v:50},
      {jp:'ã‚ãã˜ã‚…ã†',n:'å…­å',r:'rokujuu',v:60},{jp:'ãªãªã˜ã‚…ã†',n:'ä¸ƒå',r:'nanajuu',v:70},
      {jp:'ã¯ã¡ã˜ã‚…ã†',n:'å…«å',r:'hachijuu',v:80},{jp:'ãã‚…ã†ã˜ã‚…ã†',n:'ä¹å',r:'kyuujuu',v:90}
    ],
    big: [
      {jp:'ã²ã‚ƒã',n:'ç™¾',r:'hyaku',v:100},{jp:'ã«ã²ã‚ƒã',n:'äºŒç™¾',r:'nihyaku',v:200},
      {jp:'ã•ã‚“ã³ã‚ƒã',n:'ä¸‰ç™¾',r:'sanbyaku',v:300},{jp:'ã‚ˆã‚“ã²ã‚ƒã',n:'å››ç™¾',r:'yonhyaku',v:400},
      {jp:'ã”ã²ã‚ƒã',n:'äº”ç™¾',r:'gohyaku',v:500},{jp:'ã‚ã£ã´ã‚ƒã',n:'å…­ç™¾',r:'roppyaku',v:600},
      {jp:'ãªãªã²ã‚ƒã',n:'ä¸ƒç™¾',r:'nanahyaku',v:700},{jp:'ã¯ã£ã´ã‚ƒã',n:'å…«ç™¾',r:'happyaku',v:800},
      {jp:'ãã‚…ã†ã²ã‚ƒã',n:'ä¹ç™¾',r:'kyuuhyaku',v:900},{jp:'ã›ã‚“',n:'åƒ',r:'sen',v:1000},
      {jp:'ã„ã¡ã¾ã‚“',n:'ä¸€ä¸‡',r:'ichiman',v:10000},{jp:'ã˜ã‚…ã†ã¾ã‚“',n:'åä¸‡',r:'juuman',v:100000}
    ],
    ordinal: [
      {jp:'ã²ã¨ã¤',r:'hitotsu',kr:'1ê°œ'},{jp:'ãµãŸã¤',r:'futatsu',kr:'2ê°œ'},
      {jp:'ã¿ã£ã¤',r:'mittsu',kr:'3ê°œ'},{jp:'ã‚ˆã£ã¤',r:'yottsu',kr:'4ê°œ'},
      {jp:'ã„ã¤ã¤',r:'itsutsu',kr:'5ê°œ'},{jp:'ã‚€ã£ã¤',r:'muttsu',kr:'6ê°œ'},
      {jp:'ãªãªã¤',r:'nanatsu',kr:'7ê°œ'},{jp:'ã‚„ã£ã¤',r:'yattsu',kr:'8ê°œ'},
      {jp:'ã“ã“ã®ã¤',r:'kokonotsu',kr:'9ê°œ'},{jp:'ã¨ãŠ',r:'too',kr:'10ê°œ'}
    ]
  },

  // ì‹œê°„
  time: {
    hours: [
      {jp:'ã„ã¡ã˜',r:'ichiji',kr:'1ì‹œ'},{jp:'ã«ã˜',r:'niji',kr:'2ì‹œ'},
      {jp:'ã•ã‚“ã˜',r:'sanji',kr:'3ì‹œ'},{jp:'ã‚ˆã˜',r:'yoji',kr:'4ì‹œ'},
      {jp:'ã”ã˜',r:'goji',kr:'5ì‹œ'},{jp:'ã‚ãã˜',r:'rokuji',kr:'6ì‹œ'},
      {jp:'ã—ã¡ã˜',r:'shichiji',kr:'7ì‹œ'},{jp:'ã¯ã¡ã˜',r:'hachiji',kr:'8ì‹œ'},
      {jp:'ãã˜',r:'kuji',kr:'9ì‹œ'},{jp:'ã˜ã‚…ã†ã˜',r:'juuji',kr:'10ì‹œ'},
      {jp:'ã˜ã‚…ã†ã„ã¡ã˜',r:'juuichiji',kr:'11ì‹œ'},{jp:'ã˜ã‚…ã†ã«ã˜',r:'juuniji',kr:'12ì‹œ'}
    ],
    minutes: [
      {jp:'ã„ã£ã·ã‚“',r:'ippun',kr:'1ë¶„'},{jp:'ã«ãµã‚“',r:'nifun',kr:'2ë¶„'},
      {jp:'ã•ã‚“ã·ã‚“',r:'sanpun',kr:'3ë¶„'},{jp:'ã‚ˆã‚“ã·ã‚“',r:'yonpun',kr:'4ë¶„'},
      {jp:'ã”ãµã‚“',r:'gofun',kr:'5ë¶„'},{jp:'ã‚ã£ã·ã‚“',r:'roppun',kr:'6ë¶„'},
      {jp:'ãªãªãµã‚“',r:'nanafun',kr:'7ë¶„'},{jp:'ã¯ã£ã·ã‚“',r:'happun',kr:'8ë¶„'},
      {jp:'ãã‚…ã†ãµã‚“',r:'kyuufun',kr:'9ë¶„'},{jp:'ã˜ã‚…ã£ã·ã‚“',r:'juppun',kr:'10ë¶„'},
      {jp:'ã˜ã‚…ã†ã”ãµã‚“',r:'juugofun',kr:'15ë¶„'},{jp:'ã•ã‚“ã˜ã‚…ã£ã·ã‚“',r:'sanjuppun',kr:'30ë¶„'},
      {jp:'ã‚ˆã‚“ã˜ã‚…ã†ã”ãµã‚“',r:'yonjuugofun',kr:'45ë¶„'}
    ],
    periods: [
      {jp:'ã”ãœã‚“',r:'gozen',kr:'ì˜¤ì „'},{jp:'ã”ã”',r:'gogo',kr:'ì˜¤í›„'},
      {jp:'ã‚ã•',r:'asa',kr:'ì•„ì¹¨'},{jp:'ã²ã‚‹',r:'hiru',kr:'ë‚®'},
      {jp:'ã‚ˆã‚‹',r:'yoru',kr:'ë°¤'},{jp:'ã‚†ã†ãŒãŸ',r:'yuugata',kr:'ì €ë…'},
      {jp:'ã¯ã‚“',r:'han',kr:'ë°˜(30ë¶„)'},{jp:'ã¾ãˆ',r:'mae',kr:'ì „'},
      {jp:'ã™ã',r:'sugi',kr:'ì§€ë‚˜ì„œ'}
    ]
  },

  // ìš”ì¼/ì›”/ê³„ì ˆ
  calendar: {
    weekdays: [
      {jp:'ã’ã¤ã‚ˆã†ã³',n:'æœˆæ›œæ—¥',r:'getsuyoubi',kr:'ì›”ìš”ì¼'},
      {jp:'ã‹ã‚ˆã†ã³',n:'ç«æ›œæ—¥',r:'kayoubi',kr:'í™”ìš”ì¼'},
      {jp:'ã™ã„ã‚ˆã†ã³',n:'æ°´æ›œæ—¥',r:'suiyoubi',kr:'ìˆ˜ìš”ì¼'},
      {jp:'ã‚‚ãã‚ˆã†ã³',n:'æœ¨æ›œæ—¥',r:'mokuyoubi',kr:'ëª©ìš”ì¼'},
      {jp:'ãã‚“ã‚ˆã†ã³',n:'é‡‘æ›œæ—¥',r:'kinyoubi',kr:'ê¸ˆìš”ì¼'},
      {jp:'ã©ã‚ˆã†ã³',n:'åœŸæ›œæ—¥',r:'doyoubi',kr:'í† ìš”ì¼'},
      {jp:'ã«ã¡ã‚ˆã†ã³',n:'æ—¥æ›œæ—¥',r:'nichiyoubi',kr:'ì¼ìš”ì¼'}
    ],
    months: [
      {jp:'ã„ã¡ãŒã¤',n:'ä¸€æœˆ',r:'ichigatsu',kr:'1ì›”'},{jp:'ã«ãŒã¤',n:'äºŒæœˆ',r:'nigatsu',kr:'2ì›”'},
      {jp:'ã•ã‚“ãŒã¤',n:'ä¸‰æœˆ',r:'sangatsu',kr:'3ì›”'},{jp:'ã—ãŒã¤',n:'å››æœˆ',r:'shigatsu',kr:'4ì›”'},
      {jp:'ã”ãŒã¤',n:'äº”æœˆ',r:'gogatsu',kr:'5ì›”'},{jp:'ã‚ããŒã¤',n:'å…­æœˆ',r:'rokugatsu',kr:'6ì›”'},
      {jp:'ã—ã¡ãŒã¤',n:'ä¸ƒæœˆ',r:'shichigatsu',kr:'7ì›”'},{jp:'ã¯ã¡ãŒã¤',n:'å…«æœˆ',r:'hachigatsu',kr:'8ì›”'},
      {jp:'ããŒã¤',n:'ä¹æœˆ',r:'kugatsu',kr:'9ì›”'},{jp:'ã˜ã‚…ã†ãŒã¤',n:'åæœˆ',r:'juugatsu',kr:'10ì›”'},
      {jp:'ã˜ã‚…ã†ã„ã¡ãŒã¤',n:'åä¸€æœˆ',r:'juuichigatsu',kr:'11ì›”'},{jp:'ã˜ã‚…ã†ã«ãŒã¤',n:'åäºŒæœˆ',r:'juunigatsu',kr:'12ì›”'}
    ],
    days: [
      {jp:'ã¤ã„ãŸã¡',n:'ä¸€æ—¥',r:'tsuitachi',kr:'1ì¼'},{jp:'ãµã¤ã‹',n:'äºŒæ—¥',r:'futsuka',kr:'2ì¼'},
      {jp:'ã¿ã£ã‹',n:'ä¸‰æ—¥',r:'mikka',kr:'3ì¼'},{jp:'ã‚ˆã£ã‹',n:'å››æ—¥',r:'yokka',kr:'4ì¼'},
      {jp:'ã„ã¤ã‹',n:'äº”æ—¥',r:'itsuka',kr:'5ì¼'},{jp:'ã‚€ã„ã‹',n:'å…­æ—¥',r:'muika',kr:'6ì¼'},
      {jp:'ãªã®ã‹',n:'ä¸ƒæ—¥',r:'nanoka',kr:'7ì¼'},{jp:'ã‚ˆã†ã‹',n:'å…«æ—¥',r:'youka',kr:'8ì¼'},
      {jp:'ã“ã“ã®ã‹',n:'ä¹æ—¥',r:'kokonoka',kr:'9ì¼'},{jp:'ã¨ãŠã‹',n:'åæ—¥',r:'tooka',kr:'10ì¼'},
      {jp:'ã˜ã‚…ã†ã‚ˆã£ã‹',n:'åå››æ—¥',r:'juuyokka',kr:'14ì¼'},{jp:'ã¯ã¤ã‹',n:'äºŒåæ—¥',r:'hatsuka',kr:'20ì¼'},
      {jp:'ã«ã˜ã‚…ã†ã‚ˆã£ã‹',n:'äºŒåå››æ—¥',r:'nijuuyokka',kr:'24ì¼'}
    ],
    seasons: [
      {jp:'ã¯ã‚‹',n:'æ˜¥',r:'haru',kr:'ë´„'},{jp:'ãªã¤',n:'å¤',r:'natsu',kr:'ì—¬ë¦„'},
      {jp:'ã‚ã',n:'ç§‹',r:'aki',kr:'ê°€ì„'},{jp:'ãµã‚†',n:'å†¬',r:'fuyu',kr:'ê²¨ìš¸'}
    ],
    relative: [
      {jp:'ãã‚‡ã†',n:'ä»Šæ—¥',r:'kyou',kr:'ì˜¤ëŠ˜'},{jp:'ã‚ã—ãŸ',n:'æ˜æ—¥',r:'ashita',kr:'ë‚´ì¼'},
      {jp:'ãã®ã†',n:'æ˜¨æ—¥',r:'kinou',kr:'ì–´ì œ'},{jp:'ã‚ã•ã£ã¦',n:'æ˜å¾Œæ—¥',r:'asatte',kr:'ëª¨ë ˆ'},
      {jp:'ãŠã¨ã¨ã„',n:'ä¸€æ˜¨æ—¥',r:'ototoi',kr:'ê·¸ì €ê»˜'},{jp:'ã“ã‚“ã—ã‚…ã†',n:'ä»Šé€±',r:'konshuu',kr:'ì´ë²ˆ ì£¼'},
      {jp:'ã‚‰ã„ã—ã‚…ã†',n:'æ¥é€±',r:'raishuu',kr:'ë‹¤ìŒ ì£¼'},{jp:'ã›ã‚“ã—ã‚…ã†',n:'å…ˆé€±',r:'senshuu',kr:'ì§€ë‚œ ì£¼'},
      {jp:'ã“ã‚“ã’ã¤',n:'ä»Šæœˆ',r:'kongetsu',kr:'ì´ë²ˆ ë‹¬'},{jp:'ã‚‰ã„ã’ã¤',n:'æ¥æœˆ',r:'raigetsu',kr:'ë‹¤ìŒ ë‹¬'},
      {jp:'ã›ã‚“ã’ã¤',n:'å…ˆæœˆ',r:'sengetsu',kr:'ì§€ë‚œ ë‹¬'},{jp:'ã“ã¨ã—',n:'ä»Šå¹´',r:'kotoshi',kr:'ì˜¬í•´'},
      {jp:'ã‚‰ã„ã­ã‚“',n:'æ¥å¹´',r:'rainen',kr:'ë‚´ë…„'},{jp:'ãã‚‡ã­ã‚“',n:'å»å¹´',r:'kyonen',kr:'ì‘ë…„'}
    ]
  },

  // ìƒ‰ê¹”
  colors: [
    {jp:'ã‚ã‹',n:'èµ¤',r:'aka',kr:'ë¹¨ê°•',hex:'#e53935'},
    {jp:'ã‚ãŠ',n:'é’',r:'ao',kr:'íŒŒë‘',hex:'#1e88e5'},
    {jp:'ãã„ã‚',n:'é»„è‰²',r:'kiiro',kr:'ë…¸ë‘',hex:'#fdd835'},
    {jp:'ã¿ã©ã‚Š',n:'ç·‘',r:'midori',kr:'ì´ˆë¡',hex:'#43a047'},
    {jp:'ã‚ªãƒ¬ãƒ³ã‚¸',r:'orenji',kr:'ì£¼í™©',hex:'#fb8c00'},
    {jp:'ã‚€ã‚‰ã•ã',n:'ç´«',r:'murasaki',kr:'ë³´ë¼',hex:'#8e24aa'},
    {jp:'ãƒ”ãƒ³ã‚¯',r:'pinku',kr:'ë¶„í™',hex:'#ec407a'},
    {jp:'ã¡ã‚ƒã„ã‚',n:'èŒ¶è‰²',r:'chairo',kr:'ê°ˆìƒ‰',hex:'#795548'},
    {jp:'ãã‚',n:'é»’',r:'kuro',kr:'ê²€ì •',hex:'#212121'},
    {jp:'ã—ã‚',n:'ç™½',r:'shiro',kr:'í•˜ì–‘',hex:'#fafafa'},
    {jp:'ã¯ã„ã„ã‚',n:'ç°è‰²',r:'haiiro',kr:'íšŒìƒ‰',hex:'#9e9e9e'},
    {jp:'ãã‚“',n:'é‡‘',r:'kin',kr:'ê¸ˆìƒ‰',hex:'#ffd700'},
    {jp:'ãã‚“',n:'éŠ€',r:'gin',kr:'ì€ìƒ‰',hex:'#c0c0c0'}
  ],

  // ê°€ì¡±
  family: {
    own: [
      {jp:'ã¡ã¡',n:'çˆ¶',r:'chichi',kr:'(ìš°ë¦¬) ì•„ë²„ì§€'},
      {jp:'ã¯ã¯',n:'æ¯',r:'haha',kr:'(ìš°ë¦¬) ì–´ë¨¸ë‹ˆ'},
      {jp:'ã‚ã«',n:'å…„',r:'ani',kr:'(ìš°ë¦¬) í˜•/ì˜¤ë¹ '},
      {jp:'ã‚ã­',n:'å§‰',r:'ane',kr:'(ìš°ë¦¬) ëˆ„ë‚˜/ì–¸ë‹ˆ'},
      {jp:'ãŠã¨ã†ã¨',n:'å¼Ÿ',r:'otouto',kr:'(ìš°ë¦¬) ë‚¨ë™ìƒ'},
      {jp:'ã„ã‚‚ã†ã¨',n:'å¦¹',r:'imouto',kr:'(ìš°ë¦¬) ì—¬ë™ìƒ'},
      {jp:'ããµ',n:'ç¥–çˆ¶',r:'sofu',kr:'(ìš°ë¦¬) í• ì•„ë²„ì§€'},
      {jp:'ãã¼',n:'ç¥–æ¯',r:'sobo',kr:'(ìš°ë¦¬) í• ë¨¸ë‹ˆ'},
      {jp:'ãŠã£ã¨',n:'å¤«',r:'otto',kr:'(ìš°ë¦¬) ë‚¨í¸'},
      {jp:'ã¤ã¾',n:'å¦»',r:'tsuma',kr:'(ìš°ë¦¬) ì•„ë‚´'},
      {jp:'ã‚€ã™ã“',n:'æ¯å­',r:'musuko',kr:'(ìš°ë¦¬) ì•„ë“¤'},
      {jp:'ã‚€ã™ã‚',n:'å¨˜',r:'musume',kr:'(ìš°ë¦¬) ë”¸'}
    ],
    others: [
      {jp:'ãŠã¨ã†ã•ã‚“',n:'ãŠçˆ¶ã•ã‚“',r:'otousan',kr:'ì•„ë²„ì§€ (ë‚¨ì˜/ì¡´ì¹­)'},
      {jp:'ãŠã‹ã‚ã•ã‚“',n:'ãŠæ¯ã•ã‚“',r:'okaasan',kr:'ì–´ë¨¸ë‹ˆ (ë‚¨ì˜/ì¡´ì¹­)'},
      {jp:'ãŠã«ã„ã•ã‚“',n:'ãŠå…„ã•ã‚“',r:'oniisan',kr:'í˜•/ì˜¤ë¹  (ë‚¨ì˜/ì¡´ì¹­)'},
      {jp:'ãŠã­ãˆã•ã‚“',n:'ãŠå§‰ã•ã‚“',r:'oneesan',kr:'ëˆ„ë‚˜/ì–¸ë‹ˆ (ë‚¨ì˜/ì¡´ì¹­)'},
      {jp:'ãŠã¨ã†ã¨ã•ã‚“',n:'å¼Ÿã•ã‚“',r:'otoutosan',kr:'ë‚¨ë™ìƒ (ë‚¨ì˜)'},
      {jp:'ã„ã‚‚ã†ã¨ã•ã‚“',n:'å¦¹ã•ã‚“',r:'imoutosan',kr:'ì—¬ë™ìƒ (ë‚¨ì˜)'},
      {jp:'ãŠã˜ã„ã•ã‚“',n:'ãŠç¥–çˆ¶ã•ã‚“',r:'ojiisan',kr:'í• ì•„ë²„ì§€ (ë‚¨ì˜/ì¡´ì¹­)'},
      {jp:'ãŠã°ã‚ã•ã‚“',n:'ãŠç¥–æ¯ã•ã‚“',r:'obaasan',kr:'í• ë¨¸ë‹ˆ (ë‚¨ì˜/ì¡´ì¹­)'},
      {jp:'ã”ã—ã‚…ã˜ã‚“',n:'ã”ä¸»äºº',r:'goshujin',kr:'ë‚¨í¸ (ë‚¨ì˜)'},
      {jp:'ãŠãã•ã‚“',n:'å¥¥ã•ã‚“',r:'okusan',kr:'ì•„ë‚´ (ë‚¨ì˜)'}
    ]
  },

  // ë°©í–¥/ìœ„ì¹˜
  direction: [
    {jp:'ã†ãˆ',n:'ä¸Š',r:'ue',kr:'ìœ„'},{jp:'ã—ãŸ',n:'ä¸‹',r:'shita',kr:'ì•„ë˜'},
    {jp:'ã¾ãˆ',n:'å‰',r:'mae',kr:'ì•'},{jp:'ã†ã—ã‚',n:'å¾Œã‚',r:'ushiro',kr:'ë’¤'},
    {jp:'ã¿ã',n:'å³',r:'migi',kr:'ì˜¤ë¥¸ìª½'},{jp:'ã²ã ã‚Š',n:'å·¦',r:'hidari',kr:'ì™¼ìª½'},
    {jp:'ãªã‹',n:'ä¸­',r:'naka',kr:'ì•ˆ'},{jp:'ãã¨',n:'å¤–',r:'soto',kr:'ë°–'},
    {jp:'ã¨ãªã‚Š',n:'éš£',r:'tonari',kr:'ì˜†'},{jp:'ã¡ã‹ã',n:'è¿‘ã',r:'chikaku',kr:'ê·¼ì²˜'},
    {jp:'ã‚ã„ã ',n:'é–“',r:'aida',kr:'ì‚¬ì´'},{jp:'ã‚ˆã“',n:'æ¨ª',r:'yoko',kr:'ì˜†(ê°€ë¡œ)'},
    {jp:'ããŸ',n:'åŒ—',r:'kita',kr:'ë¶ìª½'},{jp:'ã¿ãªã¿',n:'å—',r:'minami',kr:'ë‚¨ìª½'},
    {jp:'ã²ãŒã—',n:'æ±',r:'higashi',kr:'ë™ìª½'},{jp:'ã«ã—',n:'è¥¿',r:'nishi',kr:'ì„œìª½'},
    {jp:'ã“ã¡ã‚‰',r:'kochira',kr:'ì´ìª½'},{jp:'ãã¡ã‚‰',r:'sochira',kr:'ê·¸ìª½'},
    {jp:'ã‚ã¡ã‚‰',r:'achira',kr:'ì €ìª½'},{jp:'ã©ã¡ã‚‰',r:'dochira',kr:'ì–´ëŠìª½'}
  ],

  // ë‚ ì”¨
  weather: [
    {jp:'ã¦ã‚“ã',n:'å¤©æ°—',r:'tenki',kr:'ë‚ ì”¨'},{jp:'ã¯ã‚Œ',n:'æ™´ã‚Œ',r:'hare',kr:'ë§‘ìŒ'},
    {jp:'ãã‚‚ã‚Š',n:'æ›‡ã‚Š',r:'kumori',kr:'íë¦¼'},{jp:'ã‚ã‚',n:'é›¨',r:'ame',kr:'ë¹„'},
    {jp:'ã‚†ã',n:'é›ª',r:'yuki',kr:'ëˆˆ'},{jp:'ã‹ãœ',n:'é¢¨',r:'kaze',kr:'ë°”ëŒ'},
    {jp:'ãŸã„ãµã†',n:'å°é¢¨',r:'taifuu',kr:'íƒœí’'},{jp:'ã‹ã¿ãªã‚Š',n:'é›·',r:'kaminari',kr:'ì²œë‘¥'},
    {jp:'ã‚ã¤ã„',n:'æš‘ã„',r:'atsui',kr:'ë¥ë‹¤'},{jp:'ã•ã‚€ã„',n:'å¯’ã„',r:'samui',kr:'ì¶¥ë‹¤'},
    {jp:'ã™ãšã—ã„',n:'æ¶¼ã—ã„',r:'suzushii',kr:'ì‹œì›í•˜ë‹¤'},{jp:'ã‚ãŸãŸã‹ã„',n:'æš–ã‹ã„',r:'atatakai',kr:'ë”°ëœ»í•˜ë‹¤'},
    {jp:'ã‚€ã—ã‚ã¤ã„',n:'è’¸ã—æš‘ã„',r:'mushiatsui',kr:'ë¬´ë¥ë‹¤'}
  ],

  // ì‹ ì²´
  body: [
    {jp:'ã‚ãŸã¾',n:'é ­',r:'atama',kr:'ë¨¸ë¦¬'},{jp:'ã‹ãŠ',n:'é¡”',r:'kao',kr:'ì–¼êµ´'},
    {jp:'ã‚',n:'ç›®',r:'me',kr:'ëˆˆ'},{jp:'ã¿ã¿',n:'è€³',r:'mimi',kr:'ê·€'},
    {jp:'ã¯ãª',n:'é¼»',r:'hana',kr:'ì½”'},{jp:'ãã¡',n:'å£',r:'kuchi',kr:'ì…'},
    {jp:'ã¯',n:'æ­¯',r:'ha',kr:'ì´'},{jp:'ã—ãŸ',n:'èˆŒ',r:'shita',kr:'í˜€'},
    {jp:'ãã³',n:'é¦–',r:'kubi',kr:'ëª©'},{jp:'ã‹ãŸ',n:'è‚©',r:'kata',kr:'ì–´ê¹¨'},
    {jp:'ã†ã§',n:'è…•',r:'ude',kr:'íŒ”'},{jp:'ã¦',n:'æ‰‹',r:'te',kr:'ì†'},
    {jp:'ã‚†ã³',n:'æŒ‡',r:'yubi',kr:'ì†ê°€ë½'},{jp:'ã‚€ã­',n:'èƒ¸',r:'mune',kr:'ê°€ìŠ´'},
    {jp:'ãŠãªã‹',n:'ãŠè…¹',r:'onaka',kr:'ë°°'},{jp:'ã›ãªã‹',n:'èƒŒä¸­',r:'senaka',kr:'ë“±'},
    {jp:'ã“ã—',n:'è…°',r:'koshi',kr:'í—ˆë¦¬'},{jp:'ã‚ã—',n:'è¶³',r:'ashi',kr:'ë‹¤ë¦¬/ë°œ'},
    {jp:'ã²ã–',n:'è†',r:'hiza',kr:'ë¬´ë¦'},{jp:'ã‹ã‹ã¨',r:'kakato',kr:'ë°œê¿ˆì¹˜'}
  ],

  // ìŒì‹
  food: {
    meals: [
      {jp:'ã‚ã•ã”ã¯ã‚“',n:'æœã”é£¯',r:'asagohan',kr:'ì•„ì¹¨ë°¥'},
      {jp:'ã²ã‚‹ã”ã¯ã‚“',n:'æ˜¼ã”é£¯',r:'hirugohan',kr:'ì ì‹¬ë°¥'},
      {jp:'ã°ã‚“ã”ã¯ã‚“',n:'æ™©ã”é£¯',r:'bangohan',kr:'ì €ë…ë°¥'},
      {jp:'ã”ã¯ã‚“',n:'ã”é£¯',r:'gohan',kr:'ë°¥/ì‹ì‚¬'}
    ],
    foods: [
      {jp:'ãƒ‘ãƒ³',r:'pan',kr:'ë¹µ'},{jp:'ãŸã¾ã”',n:'åµ',r:'tamago',kr:'ê³„ë€'},
      {jp:'ã«ã',n:'è‚‰',r:'niku',kr:'ê³ ê¸°'},{jp:'ã•ã‹ãª',n:'é­š',r:'sakana',kr:'ìƒì„ '},
      {jp:'ã‚„ã•ã„',n:'é‡èœ',r:'yasai',kr:'ì±„ì†Œ'},{jp:'ãã ã‚‚ã®',n:'æœç‰©',r:'kudamono',kr:'ê³¼ì¼'},
      {jp:'ã‚Šã‚“ã”',r:'ringo',kr:'ì‚¬ê³¼'},{jp:'ã¿ã‹ã‚“',r:'mikan',kr:'ê·¤'},
      {jp:'ãƒãƒŠãƒŠ',r:'banana',kr:'ë°”ë‚˜ë‚˜'},{jp:'ã„ã¡ã”',n:'è‹º',r:'ichigo',kr:'ë”¸ê¸°'},
      {jp:'ã™ã—',n:'å¯¿å¸',r:'sushi',kr:'ì´ˆë°¥'},{jp:'ãƒ©ãƒ¼ãƒ¡ãƒ³',r:'raamen',kr:'ë¼ë©˜'},
      {jp:'ã†ã©ã‚“',r:'udon',kr:'ìš°ë™'},{jp:'ãã°',r:'soba',kr:'ì†Œë°”'},
      {jp:'ã‚«ãƒ¬ãƒ¼',r:'karee',kr:'ì¹´ë ˆ'},{jp:'ã¦ã‚“ã·ã‚‰',n:'å¤©ã·ã‚‰',r:'tenpura',kr:'íŠ€ê¹€'},
      {jp:'ã¨ã†ãµ',n:'è±†è…',r:'toufu',kr:'ë‘ë¶€'},{jp:'ã¿ãã—ã‚‹',n:'å‘³å™Œæ±',r:'misoshiru',kr:'ë¯¸ì†Œêµ­'}
    ],
    drinks: [
      {jp:'ã¿ãš',n:'æ°´',r:'mizu',kr:'ë¬¼'},{jp:'ãŠã¡ã‚ƒ',n:'ãŠèŒ¶',r:'ocha',kr:'ì°¨'},
      {jp:'ã‚³ãƒ¼ãƒ’ãƒ¼',r:'koohii',kr:'ì»¤í”¼'},{jp:'ã“ã†ã¡ã‚ƒ',n:'ç´…èŒ¶',r:'koucha',kr:'í™ì°¨'},
      {jp:'ãã‚…ã†ã«ã‚…ã†',n:'ç‰›ä¹³',r:'gyuunyuu',kr:'ìš°ìœ '},{jp:'ã‚¸ãƒ¥ãƒ¼ã‚¹',r:'juusu',kr:'ì£¼ìŠ¤'},
      {jp:'ãƒ“ãƒ¼ãƒ«',r:'biiru',kr:'ë§¥ì£¼'},{jp:'ãƒ¯ã‚¤ãƒ³',r:'wain',kr:'ì™€ì¸'},
      {jp:'ã•ã‘',n:'é…’',r:'sake',kr:'ìˆ /ì‚¬ì¼€'}
    ],
    tastes: [
      {jp:'ãŠã„ã—ã„',r:'oishii',kr:'ë§›ìˆë‹¤'},{jp:'ã¾ãšã„',r:'mazui',kr:'ë§›ì—†ë‹¤'},
      {jp:'ã‚ã¾ã„',n:'ç”˜ã„',r:'amai',kr:'ë‹¬ë‹¤'},{jp:'ã‹ã‚‰ã„',n:'è¾›ã„',r:'karai',kr:'ë§µë‹¤'},
      {jp:'ã—ãŠã‹ã‚‰ã„',n:'å¡©è¾›ã„',r:'shiokarai',kr:'ì§œë‹¤'},{jp:'ã™ã£ã±ã„',n:'é…¸ã£ã±ã„',r:'suppai',kr:'ì‹œë‹¤'},
      {jp:'ã«ãŒã„',n:'è‹¦ã„',r:'nigai',kr:'ì“°ë‹¤'}
    ]
  }
};

// ë¬¸ë²• ë°ì´í„°
const GRAMMAR_DATA = {
  // ì¡°ì‚¬
  particles: [
    {jp:'ã¯',r:'wa',kr:'~ì€/ëŠ” (ì£¼ì œ)',ex:'ã‚ãŸã—ã¯å­¦ç”Ÿã§ã™',exr:'watashi wa gakusei desu',exkr:'ë‚˜ëŠ” í•™ìƒì…ë‹ˆë‹¤'},
    {jp:'ãŒ',r:'ga',kr:'~ì´/ê°€ (ì£¼ì–´)',ex:'ã­ã“ãŒã„ã¾ã™',exr:'neko ga imasu',exkr:'ê³ ì–‘ì´ê°€ ìˆìŠµë‹ˆë‹¤'},
    {jp:'ã‚’',r:'wo',kr:'~ì„/ë¥¼ (ëª©ì ì–´)',ex:'ãƒ‘ãƒ³ã‚’ãŸã¹ã¾ã™',exr:'pan wo tabemasu',exkr:'ë¹µì„ ë¨¹ìŠµë‹ˆë‹¤'},
    {jp:'ã«',r:'ni',kr:'~ì— (ì¥ì†Œ/ì‹œê°„)',ex:'ã«ã»ã‚“ã«ã„ãã¾ã™',exr:'nihon ni ikimasu',exkr:'ì¼ë³¸ì— ê°‘ë‹ˆë‹¤'},
    {jp:'ã§',r:'de',kr:'~ì—ì„œ (ì¥ì†Œ/ìˆ˜ë‹¨)',ex:'ã§ã‚“ã—ã‚ƒã§ã„ãã¾ã™',exr:'densha de ikimasu',exkr:'ì „ì² ë¡œ ê°‘ë‹ˆë‹¤'},
    {jp:'ã¨',r:'to',kr:'~ì™€/ê³¼',ex:'ã¨ã‚‚ã ã¡ã¨ã‚ãã³ã¾ã™',exr:'tomodachi to asobimasu',exkr:'ì¹œêµ¬ì™€ ë†‰ë‹ˆë‹¤'},
    {jp:'ã‚‚',r:'mo',kr:'~ë„',ex:'ã‚ãŸã—ã‚‚ã„ãã¾ã™',exr:'watashi mo ikimasu',exkr:'ë‚˜ë„ ê°‘ë‹ˆë‹¤'},
    {jp:'ã‹ã‚‰',r:'kara',kr:'~ë¶€í„°/~ì—ì„œ',ex:'ãã˜ã‹ã‚‰ã¯ã˜ã¾ã‚Šã¾ã™',exr:'kuji kara hajimarimasu',exkr:'9ì‹œë¶€í„° ì‹œì‘í•©ë‹ˆë‹¤'},
    {jp:'ã¾ã§',r:'made',kr:'~ê¹Œì§€',ex:'ã”ã˜ã¾ã§ã¯ãŸã‚‰ãã¾ã™',exr:'goji made hatarakimasu',exkr:'5ì‹œê¹Œì§€ ì¼í•©ë‹ˆë‹¤'},
    {jp:'ã®',r:'no',kr:'~ì˜',ex:'ã‚ãŸã—ã®ã»ã‚“',exr:'watashi no hon',exkr:'ë‚˜ì˜ ì±…'},
    {jp:'ã¸',r:'e',kr:'~ìœ¼ë¡œ (ë°©í–¥)',ex:'ãŒã£ã“ã†ã¸ã„ãã¾ã™',exr:'gakkou e ikimasu',exkr:'í•™êµë¡œ ê°‘ë‹ˆë‹¤'},
    {jp:'ã‚ˆã‚Š',r:'yori',kr:'~ë³´ë‹¤',ex:'ã«ãã‚ˆã‚Šã•ã‹ãªãŒã™ãã§ã™',exr:'niku yori sakana ga suki desu',exkr:'ê³ ê¸°ë³´ë‹¤ ìƒì„ ì„ ì¢‹ì•„í•©ë‹ˆë‹¤'},
    {jp:'ã‹',r:'ka',kr:'~ì¸ê°€ (ì˜ë¬¸)',ex:'ã“ã‚Œã¯ãªã‚“ã§ã™ã‹',exr:'kore wa nan desu ka',exkr:'ì´ê²ƒì€ ë¬´ì—‡ì…ë‹ˆê¹Œ'},
    {jp:'ã­',r:'ne',kr:'~ì§€ìš”/~ë„¤',ex:'ã„ã„ã¦ã‚“ãã§ã™ã­',exr:'ii tenki desu ne',exkr:'ì¢‹ì€ ë‚ ì”¨ë„¤ìš”'},
    {jp:'ã‚ˆ',r:'yo',kr:'~ìš” (ê°•ì¡°)',ex:'ãŠã„ã—ã„ã§ã™ã‚ˆ',exr:'oishii desu yo',exkr:'ë§›ìˆì–´ìš”'}
  ],

  // ì§€ì‹œì–´
  demonstratives: {
    kore: [
      {jp:'ã“ã‚Œ',r:'kore',kr:'ì´ê²ƒ (ë¬¼ê±´)'},{jp:'ãã‚Œ',r:'sore',kr:'ê·¸ê²ƒ'},
      {jp:'ã‚ã‚Œ',r:'are',kr:'ì €ê²ƒ'},{jp:'ã©ã‚Œ',r:'dore',kr:'ì–´ëŠ ê²ƒ'}
    ],
    kono: [
      {jp:'ã“ã®',r:'kono',kr:'ì´ (+ ëª…ì‚¬)'},{jp:'ãã®',r:'sono',kr:'ê·¸'},
      {jp:'ã‚ã®',r:'ano',kr:'ì €'},{jp:'ã©ã®',r:'dono',kr:'ì–´ëŠ'}
    ],
    koko: [
      {jp:'ã“ã“',r:'koko',kr:'ì—¬ê¸°'},{jp:'ãã“',r:'soko',kr:'ê±°ê¸°'},
      {jp:'ã‚ãã“',r:'asoko',kr:'ì €ê¸°'},{jp:'ã©ã“',r:'doko',kr:'ì–´ë””'}
    ],
    kochira: [
      {jp:'ã“ã¡ã‚‰',r:'kochira',kr:'ì´ìª½ (ì •ì¤‘)'},{jp:'ãã¡ã‚‰',r:'sochira',kr:'ê·¸ìª½'},
      {jp:'ã‚ã¡ã‚‰',r:'achira',kr:'ì €ìª½'},{jp:'ã©ã¡ã‚‰',r:'dochira',kr:'ì–´ëŠìª½'}
    ]
  },

  // ì˜ë¬¸ì‚¬
  questions: [
    {jp:'ãªã«/ãªã‚“',n:'ä½•',r:'nani/nan',kr:'ë¬´ì—‡',ex:'ã“ã‚Œã¯ãªã‚“ã§ã™ã‹',exkr:'ì´ê²ƒì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?'},
    {jp:'ã ã‚Œ',n:'èª°',r:'dare',kr:'ëˆ„êµ¬',ex:'ã‚ã®ã²ã¨ã¯ã ã‚Œã§ã™ã‹',exkr:'ì € ì‚¬ëŒì€ ëˆ„êµ¬ì…ë‹ˆê¹Œ?'},
    {jp:'ã©ã“',r:'doko',kr:'ì–´ë””',ex:'ãˆãã¯ã©ã“ã§ã™ã‹',exkr:'ì—­ì€ ì–´ë””ì…ë‹ˆê¹Œ?'},
    {jp:'ã„ã¤',r:'itsu',kr:'ì–¸ì œ',ex:'ã„ã¤ãã¾ã™ã‹',exkr:'ì–¸ì œ ì˜µë‹ˆê¹Œ?'},
    {jp:'ãªãœ/ã©ã†ã—ã¦',r:'naze/doushite',kr:'ì™œ',ex:'ãªãœã§ã™ã‹',exkr:'ì™œì…ë‹ˆê¹Œ?'},
    {jp:'ã„ãã‚‰',r:'ikura',kr:'ì–¼ë§ˆ',ex:'ã“ã‚Œã¯ã„ãã‚‰ã§ã™ã‹',exkr:'ì´ê²ƒì€ ì–¼ë§ˆì…ë‹ˆê¹Œ?'},
    {jp:'ã„ãã¤',r:'ikutsu',kr:'ëª‡ ê°œ/ëª‡ ì‚´',ex:'ã„ãã¤ã§ã™ã‹',exkr:'ëª‡ ê°œì…ë‹ˆê¹Œ?'},
    {jp:'ã©ã†',r:'dou',kr:'ì–´ë–»ê²Œ',ex:'ã«ã»ã‚“ã”ã¯ã©ã†ã§ã™ã‹',exkr:'ì¼ë³¸ì–´ëŠ” ì–´ë–»ìŠµë‹ˆê¹Œ?'},
    {jp:'ã©ã‚“ãª',r:'donna',kr:'ì–´ë–¤',ex:'ã©ã‚“ãªãŠã‚“ãŒããŒã™ãã§ã™ã‹',exkr:'ì–´ë–¤ ìŒì•…ì„ ì¢‹ì•„í•©ë‹ˆê¹Œ?'},
    {jp:'ã©ã®ãã‚‰ã„',r:'donokurai',kr:'ì–¼ë§ˆë‚˜',ex:'ã©ã®ãã‚‰ã„ã‹ã‹ã‚Šã¾ã™ã‹',exkr:'ì–¼ë§ˆë‚˜ ê±¸ë¦½ë‹ˆê¹Œ?'}
  ],

  // í˜•ìš©ì‚¬ - ã„í˜•
  adjI: [
    {jp:'ãŠãŠãã„',n:'å¤§ãã„',r:'ookii',kr:'í¬ë‹¤'},{jp:'ã¡ã„ã•ã„',n:'å°ã•ã„',r:'chiisai',kr:'ì‘ë‹¤'},
    {jp:'ãŸã‹ã„',n:'é«˜ã„',r:'takai',kr:'ë†’ë‹¤/ë¹„ì‹¸ë‹¤'},{jp:'ã‚„ã™ã„',n:'å®‰ã„',r:'yasui',kr:'ì‹¸ë‹¤'},
    {jp:'ã‚ãŸã‚‰ã—ã„',n:'æ–°ã—ã„',r:'atarashii',kr:'ìƒˆë¡­ë‹¤'},{jp:'ãµã‚‹ã„',n:'å¤ã„',r:'furui',kr:'ì˜¤ë˜ë˜ë‹¤'},
    {jp:'ã„ã„/ã‚ˆã„',n:'è‰¯ã„',r:'ii/yoi',kr:'ì¢‹ë‹¤'},{jp:'ã‚ã‚‹ã„',n:'æ‚ªã„',r:'warui',kr:'ë‚˜ì˜ë‹¤'},
    {jp:'ãªãŒã„',n:'é•·ã„',r:'nagai',kr:'ê¸¸ë‹¤'},{jp:'ã¿ã˜ã‹ã„',n:'çŸ­ã„',r:'mijikai',kr:'ì§§ë‹¤'},
    {jp:'ãŠã‚‚ã—ã‚ã„',n:'é¢ç™½ã„',r:'omoshiroi',kr:'ì¬ë¯¸ìˆë‹¤'},{jp:'ã¤ã¾ã‚‰ãªã„',r:'tsumaranai',kr:'ì¬ë¯¸ì—†ë‹¤'},
    {jp:'ã‚€ãšã‹ã—ã„',n:'é›£ã—ã„',r:'muzukashii',kr:'ì–´ë µë‹¤'},{jp:'ã‚„ã•ã—ã„',n:'æ˜“ã—ã„',r:'yasashii',kr:'ì‰½ë‹¤'},
    {jp:'ã‚ã¤ã„',n:'æš‘ã„/ç†±ã„',r:'atsui',kr:'ë¥ë‹¤/ëœ¨ê²ë‹¤'},{jp:'ã•ã‚€ã„',n:'å¯’ã„',r:'samui',kr:'ì¶¥ë‹¤'},
    {jp:'ã¤ã‚ãŸã„',n:'å†·ãŸã„',r:'tsumetai',kr:'ì°¨ê°‘ë‹¤'},{jp:'ã‚ãŸãŸã‹ã„',n:'æš–ã‹ã„',r:'atatakai',kr:'ë”°ëœ»í•˜ë‹¤'},
    {jp:'ã¯ã‚„ã„',n:'æ—©ã„/é€Ÿã„',r:'hayai',kr:'ë¹ ë¥´ë‹¤/ì´ë¥´ë‹¤'},{jp:'ãŠãã„',n:'é…ã„',r:'osoi',kr:'ëŠë¦¬ë‹¤/ëŠ¦ë‹¤'},
    {jp:'ã²ã‚ã„',n:'åºƒã„',r:'hiroi',kr:'ë„“ë‹¤'},{jp:'ã›ã¾ã„',n:'ç‹­ã„',r:'semai',kr:'ì¢ë‹¤'},
    {jp:'ãŠã‚‚ã„',n:'é‡ã„',r:'omoi',kr:'ë¬´ê²ë‹¤'},{jp:'ã‹ã‚‹ã„',n:'è»½ã„',r:'karui',kr:'ê°€ë³ë‹¤'},
    {jp:'ã‚ã‹ã‚‹ã„',n:'æ˜ã‚‹ã„',r:'akarui',kr:'ë°ë‹¤'},{jp:'ãã‚‰ã„',n:'æš—ã„',r:'kurai',kr:'ì–´ë‘¡ë‹¤'},
    {jp:'ã†ã‚‹ã•ã„',r:'urusai',kr:'ì‹œë„ëŸ½ë‹¤'},{jp:'ã—ãšã‹',n:'é™ã‹',r:'shizuka',kr:'ì¡°ìš©í•˜ë‹¤'},
    {jp:'ã„ããŒã—ã„',n:'å¿™ã—ã„',r:'isogashii',kr:'ë°”ì˜ë‹¤'},{jp:'ã²ã¾',n:'æš‡',r:'hima',kr:'í•œê°€í•˜ë‹¤'},
    {jp:'ã†ã‚Œã—ã„',n:'å¬‰ã—ã„',r:'ureshii',kr:'ê¸°ì˜ë‹¤'},{jp:'ã‹ãªã—ã„',n:'æ‚²ã—ã„',r:'kanashii',kr:'ìŠ¬í”„ë‹¤'},
    {jp:'ã“ã‚ã„',n:'æ€–ã„',r:'kowai',kr:'ë¬´ì„­ë‹¤'},{jp:'ã»ã—ã„',n:'æ¬²ã—ã„',r:'hoshii',kr:'ê°–ê³  ì‹¶ë‹¤'}
  ],

  // í˜•ìš©ì‚¬ - ãªí˜•
  adjNa: [
    {jp:'ã’ã‚“ã',n:'å…ƒæ°—',r:'genki',kr:'ê±´ê°•í•˜ë‹¤/í™œê¸°ì°¨ë‹¤'},{jp:'ã—ãšã‹',n:'é™ã‹',r:'shizuka',kr:'ì¡°ìš©í•˜ë‹¤'},
    {jp:'ã«ãã‚„ã‹',r:'nigiyaka',kr:'í™œê¸°ì°¨ë‹¤/ë²ˆí™”í•˜ë‹¤'},{jp:'ãã‚Œã„',r:'kirei',kr:'ì˜ˆì˜ë‹¤/ê¹¨ë—í•˜ë‹¤'},
    {jp:'ã‚†ã†ã‚ã„',n:'æœ‰å',r:'yuumei',kr:'ìœ ëª…í•˜ë‹¤'},{jp:'ã—ã‚“ã›ã¤',n:'è¦ªåˆ‡',r:'shinsetsu',kr:'ì¹œì ˆí•˜ë‹¤'},
    {jp:'ã¹ã‚“ã‚Š',n:'ä¾¿åˆ©',r:'benri',kr:'í¸ë¦¬í•˜ë‹¤'},{jp:'ãµã¹ã‚“',n:'ä¸ä¾¿',r:'fuben',kr:'ë¶ˆí¸í•˜ë‹¤'},
    {jp:'ã‹ã‚“ãŸã‚“',n:'ç°¡å˜',r:'kantan',kr:'ê°„ë‹¨í•˜ë‹¤'},{jp:'ãµãã–ã¤',n:'è¤‡é›‘',r:'fukuzatsu',kr:'ë³µì¡í•˜ë‹¤'},
    {jp:'ãŸã„ã›ã¤',n:'å¤§åˆ‡',r:'taisetsu',kr:'ì†Œì¤‘í•˜ë‹¤'},{jp:'ã ã„ã˜ã‚‡ã†ã¶',n:'å¤§ä¸ˆå¤«',r:'daijoubu',kr:'ê´œì°®ë‹¤'},
    {jp:'ã™ã',n:'å¥½ã',r:'suki',kr:'ì¢‹ì•„í•˜ë‹¤'},{jp:'ãã‚‰ã„',n:'å«Œã„',r:'kirai',kr:'ì‹«ì–´í•˜ë‹¤'},
    {jp:'ã˜ã‚‡ã†ãš',n:'ä¸Šæ‰‹',r:'jouzu',kr:'ì˜í•˜ë‹¤'},{jp:'ã¸ãŸ',n:'ä¸‹æ‰‹',r:'heta',kr:'ëª»í•˜ë‹¤'},
    {jp:'ã²ã¾',n:'æš‡',r:'hima',kr:'í•œê°€í•˜ë‹¤'},{jp:'ã„ã‚ã„ã‚',n:'è‰²ã€…',r:'iroiro',kr:'ì—¬ëŸ¬ ê°€ì§€ì˜'},
    {jp:'ãƒãƒ³ã‚µãƒ ',r:'hansamu',kr:'ì˜ìƒê¸°ë‹¤'},{jp:'ã¾ã˜ã‚',n:'çœŸé¢ç›®',r:'majime',kr:'ì„±ì‹¤í•˜ë‹¤'}
  ],

  // ê¸°ë³¸ ë™ì‚¬
  verbs: {
    group1: [
      {jp:'ã„ã',n:'è¡Œã',r:'iku',kr:'ê°€ë‹¤',te:'ã„ã£ã¦',ta:'ã„ã£ãŸ'},
      {jp:'ãã‚‹',n:'æ¥ã‚‹',r:'kuru',kr:'ì˜¤ë‹¤',te:'ãã¦',ta:'ããŸ'},
      {jp:'ã‹ãˆã‚‹',n:'å¸°ã‚‹',r:'kaeru',kr:'ëŒì•„ê°€ë‹¤',te:'ã‹ãˆã£ã¦',ta:'ã‹ãˆã£ãŸ'},
      {jp:'ãã',n:'èã',r:'kiku',kr:'ë“£ë‹¤',te:'ãã„ã¦',ta:'ãã„ãŸ'},
      {jp:'ã‹ã',n:'æ›¸ã',r:'kaku',kr:'ì“°ë‹¤',te:'ã‹ã„ã¦',ta:'ã‹ã„ãŸ'},
      {jp:'ã‚ˆã‚€',n:'èª­ã‚€',r:'yomu',kr:'ì½ë‹¤',te:'ã‚ˆã‚“ã§',ta:'ã‚ˆã‚“ã '},
      {jp:'ã®ã‚€',n:'é£²ã‚€',r:'nomu',kr:'ë§ˆì‹œë‹¤',te:'ã®ã‚“ã§',ta:'ã®ã‚“ã '},
      {jp:'ã¯ãªã™',n:'è©±ã™',r:'hanasu',kr:'ë§í•˜ë‹¤',te:'ã¯ãªã—ã¦',ta:'ã¯ãªã—ãŸ'},
      {jp:'ã¾ã¤',n:'å¾…ã¤',r:'matsu',kr:'ê¸°ë‹¤ë¦¬ë‹¤',te:'ã¾ã£ã¦',ta:'ã¾ã£ãŸ'},
      {jp:'ã‚‚ã¤',n:'æŒã¤',r:'motsu',kr:'ê°€ì§€ë‹¤',te:'ã‚‚ã£ã¦',ta:'ã‚‚ã£ãŸ'},
      {jp:'ã‚ã†',n:'ä¼šã†',r:'au',kr:'ë§Œë‚˜ë‹¤',te:'ã‚ã£ã¦',ta:'ã‚ã£ãŸ'},
      {jp:'ã‹ã†',n:'è²·ã†',r:'kau',kr:'ì‚¬ë‹¤',te:'ã‹ã£ã¦',ta:'ã‹ã£ãŸ'},
      {jp:'ã‚ã‚‹',r:'aru',kr:'ìˆë‹¤(ë¬´ìƒë¬¼)',te:'ã‚ã£ã¦',ta:'ã‚ã£ãŸ'},
      {jp:'ã‚ã‹ã‚‹',n:'åˆ†ã‹ã‚‹',r:'wakaru',kr:'ì•Œë‹¤',te:'ã‚ã‹ã£ã¦',ta:'ã‚ã‹ã£ãŸ'},
      {jp:'ãŠã‚ã‚‹',n:'çµ‚ã‚ã‚‹',r:'owaru',kr:'ëë‚˜ë‹¤',te:'ãŠã‚ã£ã¦',ta:'ãŠã‚ã£ãŸ'}
    ],
    group2: [
      {jp:'ãŸã¹ã‚‹',n:'é£Ÿã¹ã‚‹',r:'taberu',kr:'ë¨¹ë‹¤',te:'ãŸã¹ã¦',ta:'ãŸã¹ãŸ'},
      {jp:'ã¿ã‚‹',n:'è¦‹ã‚‹',r:'miru',kr:'ë³´ë‹¤',te:'ã¿ã¦',ta:'ã¿ãŸ'},
      {jp:'ã­ã‚‹',n:'å¯ã‚‹',r:'neru',kr:'ìë‹¤',te:'ã­ã¦',ta:'ã­ãŸ'},
      {jp:'ãŠãã‚‹',n:'èµ·ãã‚‹',r:'okiru',kr:'ì¼ì–´ë‚˜ë‹¤',te:'ãŠãã¦',ta:'ãŠããŸ'},
      {jp:'ã„ã‚‹',r:'iru',kr:'ìˆë‹¤(ìƒë¬¼)',te:'ã„ã¦',ta:'ã„ãŸ'},
      {jp:'ã§ã‚‹',n:'å‡ºã‚‹',r:'deru',kr:'ë‚˜ê°€ë‹¤',te:'ã§ã¦',ta:'ã§ãŸ'},
      {jp:'ãŠã—ãˆã‚‹',n:'æ•™ãˆã‚‹',r:'oshieru',kr:'ê°€ë¥´ì¹˜ë‹¤',te:'ãŠã—ãˆã¦',ta:'ãŠã—ãˆãŸ'},
      {jp:'ã‹ã‘ã‚‹',r:'kakeru',kr:'ê±¸ë‹¤(ì „í™”)',te:'ã‹ã‘ã¦',ta:'ã‹ã‘ãŸ'},
      {jp:'ã‚ã’ã‚‹',r:'ageru',kr:'ì£¼ë‹¤',te:'ã‚ã’ã¦',ta:'ã‚ã’ãŸ'},
      {jp:'ã‚‚ã‚‰ã†',r:'morau',kr:'ë°›ë‹¤',te:'ã‚‚ã‚‰ã£ã¦',ta:'ã‚‚ã‚‰ã£ãŸ'}
    ],
    group3: [
      {jp:'ã™ã‚‹',r:'suru',kr:'í•˜ë‹¤',te:'ã—ã¦',ta:'ã—ãŸ'},
      {jp:'ãã‚‹',n:'æ¥ã‚‹',r:'kuru',kr:'ì˜¤ë‹¤',te:'ãã¦',ta:'ããŸ'},
      {jp:'ã¹ã‚“ãã‚‡ã†ã™ã‚‹',n:'å‹‰å¼·ã™ã‚‹',r:'benkyou suru',kr:'ê³µë¶€í•˜ë‹¤',te:'ã¹ã‚“ãã‚‡ã†ã—ã¦',ta:'ã¹ã‚“ãã‚‡ã†ã—ãŸ'},
      {jp:'ã•ã‚“ã½ã™ã‚‹',n:'æ•£æ­©ã™ã‚‹',r:'sanpo suru',kr:'ì‚°ì±…í•˜ë‹¤',te:'ã•ã‚“ã½ã—ã¦',ta:'ã•ã‚“ã½ã—ãŸ'},
      {jp:'ã‚Šã‚‡ã“ã†ã™ã‚‹',n:'æ—…è¡Œã™ã‚‹',r:'ryokou suru',kr:'ì—¬í–‰í•˜ë‹¤',te:'ã‚Šã‚‡ã“ã†ã—ã¦',ta:'ã‚Šã‚‡ã“ã†ã—ãŸ'},
      {jp:'ã†ã‚“ã©ã†ã™ã‚‹',n:'é‹å‹•ã™ã‚‹',r:'undou suru',kr:'ìš´ë™í•˜ë‹¤',te:'ã†ã‚“ã©ã†ã—ã¦',ta:'ã†ã‚“ã©ã†ã—ãŸ'},
      {jp:'ã—ã”ã¨ã™ã‚‹',n:'ä»•äº‹ã™ã‚‹',r:'shigoto suru',kr:'ì¼í•˜ë‹¤',te:'ã—ã”ã¨ã—ã¦',ta:'ã—ã”ã¨ã—ãŸ'},
      {jp:'ã§ã‚“ã‚ã™ã‚‹',n:'é›»è©±ã™ã‚‹',r:'denwa suru',kr:'ì „í™”í•˜ë‹¤',te:'ã§ã‚“ã‚ã—ã¦',ta:'ã§ã‚“ã‚ã—ãŸ'}
    ]
  },

  // ì¹´ìš´í„°
  counters: [
    {jp:'ã€œã¤',r:'~tsu',kr:'~ê°œ (ì¼ë°˜)',ex:'ã²ã¨ã¤ã€ãµãŸã¤ã€ã¿ã£ã¤...'},
    {jp:'ã€œã«ã‚“',n:'ã€œäºº',r:'~nin',kr:'~ëª…',ex:'ã²ã¨ã‚Šã€ãµãŸã‚Šã€ã•ã‚“ã«ã‚“...'},
    {jp:'ã€œã²ã',n:'ã€œåŒ¹',r:'~hiki',kr:'~ë§ˆë¦¬ (ì‘ì€ë™ë¬¼)',ex:'ã„ã£ã´ãã€ã«ã²ãã€ã•ã‚“ã³ã...'},
    {jp:'ã€œã»ã‚“',n:'ã€œæœ¬',r:'~hon',kr:'~ê°œ (ê¸´ê²ƒ)',ex:'ã„ã£ã½ã‚“ã€ã«ã»ã‚“ã€ã•ã‚“ã¼ã‚“...'},
    {jp:'ã€œã¾ã„',n:'ã€œæš',r:'~mai',kr:'~ì¥',ex:'ã„ã¡ã¾ã„ã€ã«ã¾ã„ã€ã•ã‚“ã¾ã„...'},
    {jp:'ã€œã ã„',n:'ã€œå°',r:'~dai',kr:'~ëŒ€ (ê¸°ê³„)',ex:'ã„ã¡ã ã„ã€ã«ã ã„ã€ã•ã‚“ã ã„...'},
    {jp:'ã€œã•ã¤',n:'ã€œå†Š',r:'~satsu',kr:'~ê¶Œ (ì±…)',ex:'ã„ã£ã•ã¤ã€ã«ã•ã¤ã€ã•ã‚“ã•ã¤...'},
    {jp:'ã€œã‹ã„',n:'ã€œå›',r:'~kai',kr:'~ë²ˆ/íšŒ',ex:'ã„ã£ã‹ã„ã€ã«ã‹ã„ã€ã•ã‚“ã‹ã„...'},
    {jp:'ã€œã‹ã„',n:'ã€œéš',r:'~kai',kr:'~ì¸µ',ex:'ã„ã£ã‹ã„ã€ã«ã‹ã„ã€ã•ã‚“ãŒã„...'},
    {jp:'ã€œã°ã‚“',n:'ã€œç•ª',r:'~ban',kr:'~ë²ˆì§¸',ex:'ã„ã¡ã°ã‚“ã€ã«ã°ã‚“ã€ã•ã‚“ã°ã‚“...'},
    {jp:'ã€œã¯ã„',n:'ã€œæ¯',r:'~hai',kr:'~ì”',ex:'ã„ã£ã±ã„ã€ã«ã¯ã„ã€ã•ã‚“ã°ã„...'},
    {jp:'ã€œãˆã‚“',n:'ã€œå††',r:'~en',kr:'~ì—”',ex:'ã²ã‚ƒããˆã‚“ã€ã›ã‚“ãˆã‚“ã€ã„ã¡ã¾ã‚“ãˆã‚“...'}
  ]
};

// íšŒí™” íŒ¨í„´ ë°ì´í„°
const CONVERSATION_DATA = {
  // ì¸ì‚¬ (í™•ì¥)
  greetings: {
    basic: [
      {jp:'ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™',r:'ohayou gozaimasu',kr:'ì•ˆë…•í•˜ì„¸ìš” (ì•„ì¹¨, ì •ì¤‘)'},
      {jp:'ãŠã¯ã‚ˆã†',r:'ohayou',kr:'ì•ˆë…• (ì•„ì¹¨, ë°˜ë§)'},
      {jp:'ã“ã‚“ã«ã¡ã¯',r:'konnichiwa',kr:'ì•ˆë…•í•˜ì„¸ìš” (ë‚®)'},
      {jp:'ã“ã‚“ã°ã‚“ã¯',r:'konbanwa',kr:'ì•ˆë…•í•˜ì„¸ìš” (ì €ë…)'},
      {jp:'ãŠã‚„ã™ã¿ãªã•ã„',r:'oyasuminasai',kr:'ì•ˆë…•íˆ ì£¼ë¬´ì„¸ìš”'},
      {jp:'ãŠã‚„ã™ã¿',r:'oyasumi',kr:'ì˜ ì (ë°˜ë§)'}
    ],
    meeting: [
      {jp:'ã¯ã˜ã‚ã¾ã—ã¦',r:'hajimemashite',kr:'ì²˜ìŒ ëµ™ê² ìŠµë‹ˆë‹¤'},
      {jp:'ã©ã†ãã‚ˆã‚ã—ããŠã­ãŒã„ã—ã¾ã™',r:'douzo yoroshiku onegaishimasu',kr:'ì˜ ë¶€íƒë“œë¦½ë‹ˆë‹¤'},
      {jp:'ã‚ˆã‚ã—ã',r:'yoroshiku',kr:'ì˜ ë¶€íƒí•´ (ë°˜ë§)'},
      {jp:'ãŠã²ã•ã—ã¶ã‚Šã§ã™',r:'ohisashiburi desu',kr:'ì˜¤ëœë§Œì…ë‹ˆë‹¤'},
      {jp:'ã²ã•ã—ã¶ã‚Š',r:'hisashiburi',kr:'ì˜¤ëœë§Œì´ì•¼ (ë°˜ë§)'},
      {jp:'ãŠã’ã‚“ãã§ã™ã‹',r:'ogenki desu ka',kr:'ì˜ ì§€ë‚´ì„¸ìš”?'},
      {jp:'ã’ã‚“ãï¼Ÿ',r:'genki?',kr:'ì˜ ì§€ë‚´? (ë°˜ë§)'},
      {jp:'ãŠã‹ã’ã•ã¾ã§',r:'okagesama de',kr:'ë•ë¶„ì—ìš”'}
    ],
    parting: [
      {jp:'ã•ã‚ˆã†ãªã‚‰',r:'sayounara',kr:'ì•ˆë…•íˆ ê°€ì„¸ìš”/ê³„ì„¸ìš”'},
      {jp:'ã˜ã‚ƒã‚ã­',r:'jaa ne',kr:'ê·¸ëŸ¼ ì•ˆë…• (ë°˜ë§)'},
      {jp:'ã¾ãŸã­',r:'mata ne',kr:'ë˜ ë´'},
      {jp:'ã¾ãŸã‚ã—ãŸ',r:'mata ashita',kr:'ë‚´ì¼ ë´'},
      {jp:'ãã‚’ã¤ã‘ã¦',r:'ki wo tsukete',kr:'ì¡°ì‹¬í•´'},
      {jp:'ãŠã•ãã«ã—ã¤ã‚Œã„ã—ã¾ã™',r:'osaki ni shitsurei shimasu',kr:'ë¨¼ì € ì‹¤ë¡€í•˜ê² ìŠµë‹ˆë‹¤'},
      {jp:'ãŠã¤ã‹ã‚Œã•ã¾ã§ã—ãŸ',r:'otsukaresama deshita',kr:'ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤'}
    ],
    thanks: [
      {jp:'ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™',r:'arigatou gozaimasu',kr:'ê°ì‚¬í•©ë‹ˆë‹¤ (ì •ì¤‘)'},
      {jp:'ã‚ã‚ŠãŒã¨ã†',r:'arigatou',kr:'ê³ ë§ˆì›Œ'},
      {jp:'ã©ã†ã‚‚',r:'doumo',kr:'ê³ ë§ˆì›Œ (ê°€ë²¼ì›€)'},
      {jp:'ã©ã†ã„ãŸã—ã¾ã—ã¦',r:'dou itashimashite',kr:'ì²œë§Œì—ìš”'},
      {jp:'ã„ã„ãˆ',r:'iie',kr:'ì•„ë‹ˆì—ìš” (ì²œë§Œì—ìš”)'}
    ],
    apology: [
      {jp:'ã™ã¿ã¾ã›ã‚“',r:'sumimasen',kr:'ì£„ì†¡í•©ë‹ˆë‹¤/ì‹¤ë¡€í•©ë‹ˆë‹¤'},
      {jp:'ã”ã‚ã‚“ãªã•ã„',r:'gomen nasai',kr:'ë¯¸ì•ˆí•©ë‹ˆë‹¤'},
      {jp:'ã”ã‚ã‚“',r:'gomen',kr:'ë¯¸ì•ˆ (ë°˜ë§)'},
      {jp:'ã—ã¤ã‚Œã„ã—ã¾ã™',r:'shitsurei shimasu',kr:'ì‹¤ë¡€í•©ë‹ˆë‹¤'},
      {jp:'ã‚‚ã†ã—ã‚ã‘ã‚ã‚Šã¾ã›ã‚“',r:'moushiwake arimasen',kr:'ì •ë§ ì£„ì†¡í•©ë‹ˆë‹¤'}
    ],
    meals: [
      {jp:'ã„ãŸã ãã¾ã™',r:'itadakimasu',kr:'ì˜ ë¨¹ê² ìŠµë‹ˆë‹¤'},
      {jp:'ã”ã¡ãã†ã•ã¾ã§ã—ãŸ',r:'gochisousama deshita',kr:'ì˜ ë¨¹ì—ˆìŠµë‹ˆë‹¤'},
      {jp:'ãŠã„ã—ã„',r:'oishii',kr:'ë§›ìˆë‹¤'},
      {jp:'ãŠãªã‹ãŒã™ã„ãŸ',r:'onaka ga suita',kr:'ë°°ê³ í”„ë‹¤'},
      {jp:'ãŠãªã‹ãŒã„ã£ã±ã„',r:'onaka ga ippai',kr:'ë°°ë¶ˆëŸ¬'}
    ]
  },

  // ìê¸°ì†Œê°œ
  selfIntro: [
    {jp:'ã‚ãŸã—ã¯ã€œã§ã™',r:'watashi wa ~ desu',kr:'ì €ëŠ” ~ì…ë‹ˆë‹¤'},
    {jp:'ã€œã¨ã„ã„ã¾ã™',r:'~ to iimasu',kr:'~ë¼ê³  í•©ë‹ˆë‹¤'},
    {jp:'ã€œã‹ã‚‰ãã¾ã—ãŸ',r:'~ kara kimashita',kr:'~ì—ì„œ ì™”ìŠµë‹ˆë‹¤'},
    {jp:'ã€œã•ã„ã§ã™',r:'~ sai desu',kr:'~ì‚´ì…ë‹ˆë‹¤'},
    {jp:'ã—ã‚…ã¿ã¯ã€œã§ã™',r:'shumi wa ~ desu',kr:'ì·¨ë¯¸ëŠ” ~ì…ë‹ˆë‹¤'},
    {jp:'ã—ã”ã¨ã¯ã€œã§ã™',r:'shigoto wa ~ desu',kr:'ì§ì—…ì€ ~ì…ë‹ˆë‹¤'},
    {jp:'ã€œã«ã™ã‚“ã§ã„ã¾ã™',r:'~ ni sunde imasu',kr:'~ì— ì‚´ê³  ìˆìŠµë‹ˆë‹¤'},
    {jp:'ã«ã»ã‚“ã”ã‚’ã¹ã‚“ãã‚‡ã†ã—ã¦ã„ã¾ã™',r:'nihongo wo benkyou shite imasu',kr:'ì¼ë³¸ì–´ë¥¼ ê³µë¶€í•˜ê³  ìˆìŠµë‹ˆë‹¤'}
  ],

  // ì‡¼í•‘
  shopping: [
    {jp:'ã„ã‚‰ã£ã—ã‚ƒã„ã¾ã›',r:'irasshaimase',kr:'ì–´ì„œ ì˜¤ì„¸ìš”'},
    {jp:'ã“ã‚Œã‚’ãã ã•ã„',r:'kore wo kudasai',kr:'ì´ê²ƒ ì£¼ì„¸ìš”'},
    {jp:'ã„ãã‚‰ã§ã™ã‹',r:'ikura desu ka',kr:'ì–¼ë§ˆì˜ˆìš”?'},
    {jp:'ã€œãˆã‚“ã§ã™',r:'~en desu',kr:'~ì—”ì…ë‹ˆë‹¤'},
    {jp:'ã¡ã‚‡ã£ã¨ãŸã‹ã„ã§ã™ã­',r:'chotto takai desu ne',kr:'ì¢€ ë¹„ì‹¸ë„¤ìš”'},
    {jp:'ã‚„ã™ãã—ã¦ãã ã•ã„',r:'yasuku shite kudasai',kr:'ê¹ì•„ì£¼ì„¸ìš”'},
    {jp:'ã€œã¯ã‚ã‚Šã¾ã™ã‹',r:'~ wa arimasu ka',kr:'~ìˆì–´ìš”?'},
    {jp:'ã¹ã¤ã®ã„ã‚ã¯ã‚ã‚Šã¾ã™ã‹',r:'betsu no iro wa arimasu ka',kr:'ë‹¤ë¥¸ ìƒ‰ ìˆì–´ìš”?'},
    {jp:'ã—ã¡ã‚ƒãã—ã¦ã‚‚ã„ã„ã§ã™ã‹',r:'shichaku shite mo ii desu ka',kr:'ì…ì–´ë´ë„ ë ê¹Œìš”?'},
    {jp:'ã‚«ãƒ¼ãƒ‰ã§ã„ã„ã§ã™ã‹',r:'kaado de ii desu ka',kr:'ì¹´ë“œ ë¼ìš”?'},
    {jp:'ã’ã‚“ãã‚“ã§ãŠã­ãŒã„ã—ã¾ã™',r:'genkin de onegai shimasu',kr:'í˜„ê¸ˆìœ¼ë¡œ í• ê²Œìš”'},
    {jp:'ãƒ¬ã‚·ãƒ¼ãƒˆã‚’ãã ã•ã„',r:'reshiito wo kudasai',kr:'ì˜ìˆ˜ì¦ ì£¼ì„¸ìš”'},
    {jp:'ãµãã‚ã«ã„ã‚Œã¦ãã ã•ã„',r:'fukuro ni irete kudasai',kr:'ë´‰íˆ¬ì— ë„£ì–´ì£¼ì„¸ìš”'},
    {jp:'ã‘ã£ã“ã†ã§ã™',r:'kekkou desu',kr:'ê´œì°®ìŠµë‹ˆë‹¤ (í•„ìš”ì—†ì–´ìš”)'}
  ],

  // ì‹ë‹¹
  restaurant: [
    {jp:'ãªã‚“ã‚ã„ã•ã¾ã§ã™ã‹',r:'nanmei sama desu ka',kr:'ëª‡ ë¶„ì´ì„¸ìš”?'},
    {jp:'ãµãŸã‚Šã§ã™',r:'futari desu',kr:'ë‘ ëª…ì´ìš”'},
    {jp:'ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ãã ã•ã„',r:'menyuu wo kudasai',kr:'ë©”ë‰´ ì£¼ì„¸ìš”'},
    {jp:'ã¡ã‚…ã†ã‚‚ã‚“ãŠã­ãŒã„ã—ã¾ã™',r:'chuumon onegai shimasu',kr:'ì£¼ë¬¸í• ê²Œìš”'},
    {jp:'ãŠã™ã™ã‚ã¯ãªã‚“ã§ã™ã‹',r:'osusume wa nan desu ka',kr:'ì¶”ì²œ ë©”ë‰´ê°€ ë­ì˜ˆìš”?'},
    {jp:'ã€œã‚’ã²ã¨ã¤ãã ã•ã„',r:'~ wo hitotsu kudasai',kr:'~í•˜ë‚˜ ì£¼ì„¸ìš”'},
    {jp:'ãŠã¿ãšã‚’ãã ã•ã„',r:'omizu wo kudasai',kr:'ë¬¼ ì£¼ì„¸ìš”'},
    {jp:'ã‚‚ã†ã™ã“ã—ã¾ã£ã¦ãã ã•ã„',r:'mou sukoshi matte kudasai',kr:'ì¡°ê¸ˆë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”'},
    {jp:'ãŠã‚ã„ããŠã­ãŒã„ã—ã¾ã™',r:'oaiso onegai shimasu',kr:'ê³„ì‚°í•´ì£¼ì„¸ìš”'},
    {jp:'ã¹ã¤ã¹ã¤ã§ãŠã­ãŒã„ã—ã¾ã™',r:'betsubetsu de onegai shimasu',kr:'ë”°ë¡œë”°ë¡œ ê³„ì‚°í•´ì£¼ì„¸ìš”'},
    {jp:'ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼ãŒã‚ã‚Šã¾ã™',r:'arerugii ga arimasu',kr:'ì•Œë ˆë¥´ê¸°ê°€ ìˆì–´ìš”'},
    {jp:'ãƒ™ã‚¸ã‚¿ãƒªã‚¢ãƒ³ã§ã™',r:'bejitarian desu',kr:'ì±„ì‹ì£¼ì˜ìì˜ˆìš”'},
    {jp:'ã‹ã‚‰ãã—ãªã„ã§ãã ã•ã„',r:'karaku shinaide kudasai',kr:'ë§µê²Œ í•˜ì§€ ë§ˆì„¸ìš”'},
    {jp:'ãƒ†ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆã§ãã¾ã™ã‹',r:'teikuauto dekimasu ka',kr:'í¬ì¥ ë¼ìš”?'}
  ],

  // êµí†µ
  transport: [
    {jp:'ã€œã¾ã§ã„ãã‚‰ã§ã™ã‹',r:'~ made ikura desu ka',kr:'~ê¹Œì§€ ì–¼ë§ˆì˜ˆìš”?'},
    {jp:'ã€œã¾ã§ã©ã†ã‚„ã£ã¦ã„ãã¾ã™ã‹',r:'~ made dou yatte ikimasu ka',kr:'~ê¹Œì§€ ì–´ë–»ê²Œ ê°€ìš”?'},
    {jp:'ãªã‚“ã°ã‚“ã›ã‚“ã§ã™ã‹',r:'nanban sen desu ka',kr:'ëª‡ ë²ˆ ì„ ì´ì—ìš”?'},
    {jp:'ã¤ãã®ã§ã‚“ã—ã‚ƒã¯ã„ã¤ã§ã™ã‹',r:'tsugi no densha wa itsu desu ka',kr:'ë‹¤ìŒ ì „ì²  ì–¸ì œì˜ˆìš”?'},
    {jp:'ã€œã§ã®ã‚Šã‹ãˆã¦ãã ã•ã„',r:'~ de norikaete kudasai',kr:'~ì—ì„œ ê°ˆì•„íƒ€ì„¸ìš”'},
    {jp:'ã“ã®ã§ã‚“ã—ã‚ƒã¯ã€œã«ã„ãã¾ã™ã‹',r:'kono densha wa ~ ni ikimasu ka',kr:'ì´ ì „ì²  ~ì— ê°€ìš”?'},
    {jp:'ã‚¿ã‚¯ã‚·ãƒ¼ã‚’ã‚ˆã‚“ã§ãã ã•ã„',r:'takushii wo yonde kudasai',kr:'íƒì‹œ ë¶ˆëŸ¬ì£¼ì„¸ìš”'},
    {jp:'ã€œã¾ã§ãŠã­ãŒã„ã—ã¾ã™',r:'~ made onegai shimasu',kr:'~ê¹Œì§€ ê°€ì£¼ì„¸ìš”'},
    {jp:'ã“ã“ã§ã¨ã‚ã¦ãã ã•ã„',r:'koko de tomete kudasai',kr:'ì—¬ê¸°ì„œ ì„¸ì›Œì£¼ì„¸ìš”'},
    {jp:'ã©ã®ãã‚‰ã„ã‹ã‹ã‚Šã¾ã™ã‹',r:'donokurai kakarimasu ka',kr:'ì–¼ë§ˆë‚˜ ê±¸ë ¤ìš”?'},
    {jp:'ã¾ã«ã‚ã„ã¾ã™ã‹',r:'maniaimasu ka',kr:'ì‹œê°„ ë§ì¶œ ìˆ˜ ìˆì–´ìš”?'},
    {jp:'ãã£ã·ã‚’ã‹ã„ãŸã„ã§ã™',r:'kippu wo kaitai desu',kr:'í‘œ ì‚¬ê³  ì‹¶ì–´ìš”'}
  ],

  // ê¸¸ ë¬»ê¸°
  directions: [
    {jp:'ã™ã¿ã¾ã›ã‚“ã€ã€œã¯ã©ã“ã§ã™ã‹',r:'sumimasen, ~ wa doko desu ka',kr:'ì‹¤ë¡€í•©ë‹ˆë‹¤, ~ì€ ì–´ë””ì˜ˆìš”?'},
    {jp:'ã¡ã‹ãã«ã€œã¯ã‚ã‚Šã¾ã™ã‹',r:'chikaku ni ~ wa arimasu ka',kr:'ê·¼ì²˜ì— ~ìˆì–´ìš”?'},
    {jp:'ã¿ã¡ã«ã¾ã‚ˆã„ã¾ã—ãŸ',r:'michi ni mayoimashita',kr:'ê¸¸ì„ ìƒì—ˆì–´ìš”'},
    {jp:'ã“ã“ã¯ã©ã“ã§ã™ã‹',r:'koko wa doko desu ka',kr:'ì—¬ê¸°ê°€ ì–´ë””ì˜ˆìš”?'},
    {jp:'ã¾ã£ã™ãã„ã£ã¦ãã ã•ã„',r:'massugu itte kudasai',kr:'ì§ì§„í•˜ì„¸ìš”'},
    {jp:'ã¿ãã«ã¾ãŒã£ã¦ãã ã•ã„',r:'migi ni magatte kudasai',kr:'ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë„ì„¸ìš”'},
    {jp:'ã²ã ã‚Šã«ã¾ãŒã£ã¦ãã ã•ã„',r:'hidari ni magatte kudasai',kr:'ì™¼ìª½ìœ¼ë¡œ ë„ì„¸ìš”'},
    {jp:'ã¤ãã‚ãŸã‚Šã‚’ã€œ',r:'tsukiatari wo ~',kr:'ë§‰ë‹¤ë¥¸ ê³³ì—ì„œ ~'},
    {jp:'ã“ã†ã•ã¦ã‚“ã‚’ã€œ',r:'kousaten wo ~',kr:'êµì°¨ë¡œì—ì„œ ~'},
    {jp:'ã—ã‚“ã”ã†ã‚’ã€œ',r:'shingou wo ~',kr:'ì‹ í˜¸ë“±ì—ì„œ ~'},
    {jp:'ã‚ã‚‹ã„ã¦ã©ã®ãã‚‰ã„ã§ã™ã‹',r:'aruite donokurai desu ka',kr:'ê±¸ì–´ì„œ ì–¼ë§ˆë‚˜ ê±¸ë ¤ìš”?'},
    {jp:'ã¡ã‹ã„ã§ã™ã‹/ã¨ãŠã„ã§ã™ã‹',r:'chikai desu ka / tooi desu ka',kr:'ê°€ê¹Œì›Œìš”?/ë©€ì–´ìš”?'},
    {jp:'ã¡ãšã‚’ã‹ã„ã¦ãã ã•ã„',r:'chizu wo kaite kudasai',kr:'ì§€ë„ ê·¸ë ¤ì£¼ì„¸ìš”'}
  ],

  // ì „í™”
  phone: [
    {jp:'ã‚‚ã—ã‚‚ã—',r:'moshi moshi',kr:'ì—¬ë³´ì„¸ìš”'},
    {jp:'ã€œã•ã‚“ã‚’ãŠã­ãŒã„ã—ã¾ã™',r:'~san wo onegai shimasu',kr:'~ì”¨ ë¶€íƒí•©ë‹ˆë‹¤'},
    {jp:'ã€œã•ã‚“ã¯ã„ã‚‰ã£ã—ã‚ƒã„ã¾ã™ã‹',r:'~san wa irasshaimasu ka',kr:'~ì”¨ ê³„ì„¸ìš”?'},
    {jp:'ã§ã‚“ã‚ã°ã‚“ã”ã†ã‚’ãŠã—ãˆã¦ãã ã•ã„',r:'denwa bangou wo oshiete kudasai',kr:'ì „í™”ë²ˆí˜¸ ì•Œë ¤ì£¼ì„¸ìš”'},
    {jp:'ã‚‚ã†ã„ã¡ã©ãŠã­ãŒã„ã—ã¾ã™',r:'mou ichido onegai shimasu',kr:'ë‹¤ì‹œ í•œë²ˆ ë¶€íƒë“œë ¤ìš”'},
    {jp:'ã‚†ã£ãã‚Šã¯ãªã—ã¦ãã ã•ã„',r:'yukkuri hanashite kudasai',kr:'ì²œì²œíˆ ë§í•´ì£¼ì„¸ìš”'},
    {jp:'ã§ã‚“ã‚ã«ã§ã¦ãã ã•ã„',r:'denwa ni dete kudasai',kr:'ì „í™” ë°›ì•„ì£¼ì„¸ìš”'},
    {jp:'ã‚ã¨ã§ã‹ã‘ãªãŠã—ã¾ã™',r:'ato de kakenaoshimasu',kr:'ë‚˜ì¤‘ì— ë‹¤ì‹œ ê±¸ê²Œìš”'},
    {jp:'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã®ã“ã—ã¦ã‚‚ã„ã„ã§ã™ã‹',r:'messeeji wo nokoshite mo ii desu ka',kr:'ë©”ì‹œì§€ ë‚¨ê²¨ë„ ë ê¹Œìš”?'},
    {jp:'ã§ã‚“ã‚ã‚’ãã‚Šã¾ã™',r:'denwa wo kirimasu',kr:'ì „í™” ëŠì„ê²Œìš”'}
  ],

  // ê¸´ê¸‰ìƒí™©
  emergency: [
    {jp:'ãŸã™ã‘ã¦ãã ã•ã„',r:'tasukete kudasai',kr:'ë„ì™€ì£¼ì„¸ìš”'},
    {jp:'ã‘ã„ã•ã¤ã‚’ã‚ˆã‚“ã§ãã ã•ã„',r:'keisatsu wo yonde kudasai',kr:'ê²½ì°° ë¶ˆëŸ¬ì£¼ì„¸ìš”'},
    {jp:'ãã‚…ã†ãã‚…ã†ã—ã‚ƒã‚’ã‚ˆã‚“ã§ãã ã•ã„',r:'kyuukyuusha wo yonde kudasai',kr:'êµ¬ê¸‰ì°¨ ë¶ˆëŸ¬ì£¼ì„¸ìš”'},
    {jp:'ã³ã‚‡ã†ã„ã‚“ã¯ã©ã“ã§ã™ã‹',r:'byouin wa doko desu ka',kr:'ë³‘ì› ì–´ë””ì˜ˆìš”?'},
    {jp:'ãã‚‚ã¡ãŒã‚ã‚‹ã„ã§ã™',r:'kimochi ga warui desu',kr:'ì†ì´ ì•ˆ ì¢‹ì•„ìš”'},
    {jp:'ã‚ãŸã¾ãŒã„ãŸã„ã§ã™',r:'atama ga itai desu',kr:'ë¨¸ë¦¬ê°€ ì•„íŒŒìš”'},
    {jp:'ãŠãªã‹ãŒã„ãŸã„ã§ã™',r:'onaka ga itai desu',kr:'ë°°ê°€ ì•„íŒŒìš”'},
    {jp:'ã­ã¤ãŒã‚ã‚Šã¾ã™',r:'netsu ga arimasu',kr:'ì—´ì´ ìˆì–´ìš”'},
    {jp:'ãã™ã‚Šã‚’ãã ã•ã„',r:'kusuri wo kudasai',kr:'ì•½ ì£¼ì„¸ìš”'},
    {jp:'ã«ã»ã‚“ã”ãŒã‚ã‹ã‚Šã¾ã›ã‚“',r:'nihongo ga wakarimasen',kr:'ì¼ë³¸ì–´ ëª»í•´ìš”'},
    {jp:'ãˆã„ã”ã‚’ã¯ãªã›ã¾ã™ã‹',r:'eigo wo hanasemasu ka',kr:'ì˜ì–´ í•  ìˆ˜ ìˆì–´ìš”?'},
    {jp:'ãŸã„ã—ã‹ã‚“ã¯ã©ã“ã§ã™ã‹',r:'taishikan wa doko desu ka',kr:'ëŒ€ì‚¬ê´€ ì–´ë””ì˜ˆìš”?'},
    {jp:'ãƒ‘ã‚¹ãƒãƒ¼ãƒˆã‚’ãªãã—ã¾ã—ãŸ',r:'pasupooto wo nakushimashita',kr:'ì—¬ê¶Œ ìƒì–´ë²„ë ¸ì–´ìš”'},
    {jp:'ã•ã„ãµã‚’ã¬ã™ã¾ã‚Œã¾ã—ãŸ',r:'saifu wo nusumaremashita',kr:'ì§€ê°‘ ë„ë‘‘ë§ì•˜ì–´ìš”'}
  ],

  // ì¼ìƒ ìœ ìš© í‘œí˜„
  useful: [
    {jp:'ã‚ã‹ã‚Šã¾ã—ãŸ',r:'wakarimashita',kr:'ì•Œê² ìŠµë‹ˆë‹¤'},
    {jp:'ã‚ã‹ã‚Šã¾ã›ã‚“',r:'wakarimasen',kr:'ëª¨ë¥´ê² ìŠµë‹ˆë‹¤'},
    {jp:'ã—ã‚Šã¾ã›ã‚“',r:'shirimasen',kr:'ëª°ë¼ìš”'},
    {jp:'ã‚‚ã†ã„ã¡ã©ã„ã£ã¦ãã ã•ã„',r:'mou ichido itte kudasai',kr:'ë‹¤ì‹œ í•œë²ˆ ë§í•´ì£¼ì„¸ìš”'},
    {jp:'ã‹ã„ã¦ãã ã•ã„',r:'kaite kudasai',kr:'ì¨ ì£¼ì„¸ìš”'},
    {jp:'ã¡ã‚‡ã£ã¨ã¾ã£ã¦ãã ã•ã„',r:'chotto matte kudasai',kr:'ì ê¹ë§Œìš”'},
    {jp:'ã ã„ã˜ã‚‡ã†ã¶ã§ã™',r:'daijoubu desu',kr:'ê´œì°®ì•„ìš”'},
    {jp:'ã„ã„ã§ã™ã‚ˆ',r:'ii desu yo',kr:'ì¢‹ì•„ìš”'},
    {jp:'ã ã‚ã§ã™',r:'dame desu',kr:'ì•ˆ ë¼ìš”'},
    {jp:'ã„ãã„ã§ãã ã•ã„',r:'isoide kudasai',kr:'ì„œë‘˜ëŸ¬ì£¼ì„¸ìš”'},
    {jp:'ã¦ã¤ã ã£ã¦ãã ã•ã„',r:'tetsudatte kudasai',kr:'ë„ì™€ì£¼ì„¸ìš”'},
    {jp:'ãŠã—ãˆã¦ãã ã•ã„',r:'oshiete kudasai',kr:'ì•Œë ¤ì£¼ì„¸ìš”'},
    {jp:'ã€œã—ã¦ã‚‚ã„ã„ã§ã™ã‹',r:'~ shite mo ii desu ka',kr:'~í•´ë„ ë ê¹Œìš”?'},
    {jp:'ã€œã—ãªã„ã§ãã ã•ã„',r:'~ shinaide kudasai',kr:'~í•˜ì§€ ë§ˆì„¸ìš”'},
    {jp:'ã€œãŒã»ã—ã„ã§ã™',r:'~ ga hoshii desu',kr:'~ì„ ì›í•´ìš”'},
    {jp:'ã€œã—ãŸã„ã§ã™',r:'~ shitai desu',kr:'~í•˜ê³  ì‹¶ì–´ìš”'},
    {jp:'ã¤ã‹ã‚Œã¾ã—ãŸ',r:'tsukaremashita',kr:'í”¼ê³¤í•´ìš”'},
    {jp:'ãŸã®ã—ã‹ã£ãŸã§ã™',r:'tanoshikatta desu',kr:'ì¦ê±°ì› ì–´ìš”'}
  ]
};

// ì¥ì†Œ/ì‹œì„¤
const PLACES_DATA = [
  {jp:'ãˆã',n:'é§…',r:'eki',kr:'ì—­'},{jp:'ãã†ã“ã†',n:'ç©ºæ¸¯',r:'kuukou',kr:'ê³µí•­'},
  {jp:'ã³ã‚‡ã†ã„ã‚“',n:'ç—…é™¢',r:'byouin',kr:'ë³‘ì›'},{jp:'ãã‚“ã“ã†',n:'éŠ€è¡Œ',r:'ginkou',kr:'ì€í–‰'},
  {jp:'ã‚†ã†ã³ã‚“ãã‚‡ã',n:'éƒµä¾¿å±€',r:'yuubinkyoku',kr:'ìš°ì²´êµ­'},{jp:'ãŒã£ã“ã†',n:'å­¦æ ¡',r:'gakkou',kr:'í•™êµ'},
  {jp:'ã ã„ãŒã',n:'å¤§å­¦',r:'daigaku',kr:'ëŒ€í•™êµ'},{jp:'ã¨ã—ã‚‡ã‹ã‚“',n:'å›³æ›¸é¤¨',r:'toshokan',kr:'ë„ì„œê´€'},
  {jp:'ã“ã†ãˆã‚“',n:'å…¬åœ’',r:'kouen',kr:'ê³µì›'},{jp:'ãƒ‡ãƒ‘ãƒ¼ãƒˆ',r:'depaato',kr:'ë°±í™”ì '},
  {jp:'ã‚¹ãƒ¼ãƒ‘ãƒ¼',r:'suupaa',kr:'ìŠˆí¼ë§ˆì¼“'},{jp:'ã‚³ãƒ³ãƒ“ãƒ‹',r:'konbini',kr:'í¸ì˜ì '},
  {jp:'ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³',r:'resutoran',kr:'ë ˆìŠ¤í† ë‘'},{jp:'ã‚«ãƒ•ã‚§',r:'kafe',kr:'ì¹´í˜'},
  {jp:'ãƒ›ãƒ†ãƒ«',r:'hoteru',kr:'í˜¸í…”'},{jp:'ã‚Šã‚‡ã‹ã‚“',n:'æ—…é¤¨',r:'ryokan',kr:'ë£Œì¹¸'},
  {jp:'ãˆã„ãŒã‹ã‚“',n:'æ˜ ç”»é¤¨',r:'eigakan',kr:'ì˜í™”ê´€'},{jp:'ã³ã˜ã‚…ã¤ã‹ã‚“',n:'ç¾è¡“é¤¨',r:'bijutsukan',kr:'ë¯¸ìˆ ê´€'},
  {jp:'ã¯ãã¶ã¤ã‹ã‚“',n:'åšç‰©é¤¨',r:'hakubutsukan',kr:'ë°•ë¬¼ê´€'},{jp:'ã˜ã‚“ã˜ã‚ƒ',n:'ç¥ç¤¾',r:'jinja',kr:'ì‹ ì‚¬'},
  {jp:'ãŠã¦ã‚‰',n:'ãŠå¯º',r:'otera',kr:'ì ˆ'},{jp:'ãƒˆã‚¤ãƒ¬',r:'toire',kr:'í™”ì¥ì‹¤'},
  {jp:'ã„ã‚Šãã¡',n:'å…¥å£',r:'iriguchi',kr:'ì…êµ¬'},{jp:'ã§ãã¡',n:'å‡ºå£',r:'deguchi',kr:'ì¶œêµ¬'},
  {jp:'ã‹ã„ã ã‚“',n:'éšæ®µ',r:'kaidan',kr:'ê³„ë‹¨'},{jp:'ã‚¨ãƒ¬ãƒ™ãƒ¼ã‚¿ãƒ¼',r:'erebeetaa',kr:'ì—˜ë¦¬ë² ì´í„°'}
];

// ì§ì—…
const JOBS_DATA = [
  {jp:'ãŒãã›ã„',n:'å­¦ç”Ÿ',r:'gakusei',kr:'í•™ìƒ'},{jp:'ã‹ã„ã—ã‚ƒã„ã‚“',n:'ä¼šç¤¾å“¡',r:'kaishain',kr:'íšŒì‚¬ì›'},
  {jp:'ã›ã‚“ã›ã„',n:'å…ˆç”Ÿ',r:'sensei',kr:'ì„ ìƒë‹˜'},{jp:'ã„ã—ã‚ƒ',n:'åŒ»è€…',r:'isha',kr:'ì˜ì‚¬'},
  {jp:'ã‹ã‚“ã”ã—',n:'çœ‹è­·å¸«',r:'kangoshi',kr:'ê°„í˜¸ì‚¬'},{jp:'ã¹ã‚“ã”ã—',n:'å¼è­·å£«',r:'bengoshi',kr:'ë³€í˜¸ì‚¬'},
  {jp:'ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',r:'enjinia',kr:'ì—”ì§€ë‹ˆì–´'},{jp:'ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼',r:'puroguramaa',kr:'í”„ë¡œê·¸ë˜ë¨¸'},
  {jp:'ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼',r:'dezainaa',kr:'ë””ìì´ë„ˆ'},{jp:'ã‘ã„ã•ã¤ã‹ã‚“',n:'è­¦å¯Ÿå®˜',r:'keisatsukan',kr:'ê²½ì°°ê´€'},
  {jp:'ã—ã‚‡ã†ã¼ã†ã—',n:'æ¶ˆé˜²å£«',r:'shouboushi',kr:'ì†Œë°©ê´€'},{jp:'ã†ã‚“ã¦ã‚“ã—ã‚…',n:'é‹è»¢æ‰‹',r:'untenshu',kr:'ìš´ì „ì‚¬'},
  {jp:'ã‚³ãƒƒã‚¯',r:'kokku',kr:'ìš”ë¦¬ì‚¬'},{jp:'ã¦ã‚“ã„ã‚“',n:'åº—å“¡',r:'tenin',kr:'ì ì›'},
  {jp:'ã—ã‚…ãµ',n:'ä¸»å©¦',r:'shufu',kr:'ì£¼ë¶€'},{jp:'ã‚€ã—ã‚‡ã',n:'ç„¡è·',r:'mushoku',kr:'ë¬´ì§'}
];

// ì·¨ë¯¸
const HOBBIES_DATA = [
  {jp:'ã©ãã—ã‚‡',n:'èª­æ›¸',r:'dokusho',kr:'ë…ì„œ'},{jp:'ãŠã‚“ãŒã',n:'éŸ³æ¥½',r:'ongaku',kr:'ìŒì•…'},
  {jp:'ãˆã„ãŒ',n:'æ˜ ç”»',r:'eiga',kr:'ì˜í™”'},{jp:'ã‚Šã‚‡ã“ã†',n:'æ—…è¡Œ',r:'ryokou',kr:'ì—¬í–‰'},
  {jp:'ã‚Šã‚‡ã†ã‚Š',n:'æ–™ç†',r:'ryouri',kr:'ìš”ë¦¬'},{jp:'ã†ã‚“ã©ã†',n:'é‹å‹•',r:'undou',kr:'ìš´ë™'},
  {jp:'ã‚µãƒƒã‚«ãƒ¼',r:'sakkaa',kr:'ì¶•êµ¬'},{jp:'ã‚„ãã‚…ã†',n:'é‡çƒ',r:'yakyuu',kr:'ì•¼êµ¬'},
  {jp:'ãƒ†ãƒ‹ã‚¹',r:'tenisu',kr:'í…Œë‹ˆìŠ¤'},{jp:'ã™ã„ãˆã„',n:'æ°´æ³³',r:'suiei',kr:'ìˆ˜ì˜'},
  {jp:'ã•ã‚“ã½',n:'æ•£æ­©',r:'sanpo',kr:'ì‚°ì±…'},{jp:'ã‚²ãƒ¼ãƒ ',r:'geemu',kr:'ê²Œì„'},
  {jp:'ã‚«ãƒ©ã‚ªã‚±',r:'karaoke',kr:'ë…¸ë˜ë°©'},{jp:'ã—ã‚ƒã—ã‚“',n:'å†™çœŸ',r:'shashin',kr:'ì‚¬ì§„'},
  {jp:'ãˆ',n:'çµµ',r:'e',kr:'ê·¸ë¦¼'},{jp:'ãƒ€ãƒ³ã‚¹',r:'dansu',kr:'ëŒ„ìŠ¤'}
];
const SIMILAR_KANA = [
  { group: ['ã‚', 'ãŠ'], hint: 'ã‚ëŠ” ì—´ë¦¼, ãŠëŠ” ë™ê·¸ë¼ë¯¸' },
  { group: ['ã', 'ã•'], hint: 'ãëŠ” ê°€ë¡œ 2ê°œ' },
  { group: ['ã¬', 'ã‚'], hint: 'ê¼¬ë¦¬ ë°©í–¥' },
  { group: ['ã‚·', 'ãƒ„'], hint: 'ã‚·ëŠ” ì„¸ë¡œ, ãƒ„ëŠ” ê°€ë¡œ' },
  { group: ['ã‚½', 'ãƒ³'], hint: 'ë°©í–¥ ë‹¤ë¦„' },
];

const TOTAL_PRACTICE = 50;
const CANVAS_PER_SET = 5;
const TOTAL_SETS = 10;

// ===== State =====
let state = {
  mainTab: 'kana',
  activeTab: 'home',
  currentType: 'hiragana',
  currentRow: 'ã‚í–‰',
  writingKana: 'ã‚',
  userData: loadUserData(),
  practiceMode: 'big',
  currentSet: 1,
  smallCanvases: [],
  activeSmallIndex: 0,
  freeMode: false,
  bigPaths: [],
  bigCurrentPath: [],
  bigStrokeCount: 0,
  bigIsDrawing: false,
  showComplete: false,
  quizMode: 'recognize',
  currentQuiz: null,
  showResult: false,
  isCorrect: false,
};

// í”„ë¡œí•„ ê´€ë¦¬
let currentProfile = localStorage.getItem('currentProfile') || 'ê¸°ë³¸';
let profiles = JSON.parse(localStorage.getItem('profiles') || '["ê¸°ë³¸"]');

function getStorageKey() {
  return 'kanaDataV10_' + currentProfile;
}

function loadUserData() {
  try {
    const saved = localStorage.getItem(getStorageKey());
    return saved ? JSON.parse(saved) : getDefaultData();
  } catch(e) { return getDefaultData(); }
}

function getDefaultData() {
  return { writingProgress: {}, todayWritten: 0, lastDate: null, totalReviews: 0, correctAnswers: 0, level: 1 };
}

function saveUserData() {
  try { 
    localStorage.setItem(getStorageKey(), JSON.stringify(state.userData)); 
    if (window.autoSaveToCloud) window.autoSaveToCloud();
  } catch(e) {}
}

function switchProfile(name) {
  currentProfile = name;
  localStorage.setItem('currentProfile', name);
  state.userData = loadUserData();
  if (window.autoSaveToCloud) window.autoSaveToCloud();
  render();
}

function addProfile() {
  const name = prompt('ìƒˆ í”„ë¡œí•„ ì´ë¦„:');
  if (name && name.trim() && !profiles.includes(name.trim())) {
    profiles.push(name.trim());
    localStorage.setItem('profiles', JSON.stringify(profiles));
    if (window.autoSaveToCloud) window.autoSaveToCloud();
    switchProfile(name.trim());
  }
}

function deleteProfile() {
  if (profiles.length <= 1) {
    alert('ìµœì†Œ 1ê°œì˜ í”„ë¡œí•„ì€ í•„ìš”í•©ë‹ˆë‹¤.');
    return;
  }
  if (confirm('"' + currentProfile + '" í”„ë¡œí•„ì„ ì‚­ì œí• ê¹Œìš”?')) {
    localStorage.removeItem(getStorageKey());
    profiles = profiles.filter(p => p !== currentProfile);
    localStorage.setItem('profiles', JSON.stringify(profiles));
    if (window.autoSaveToCloud) window.autoSaveToCloud();
    switchProfile(profiles[0]);
  }
}

function getKanaInfo(kana) {
  return [...ALL_HIRAGANA, ...ALL_KATAKANA, ...ALL_DAKUTEN, ...ALL_YOUON].find(k => k.kana === kana);
}

function playSound(text) {
  if (window.speechSynthesis) {
    window.speechSynthesis.cancel();
    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
    // í•œ ê¸€ìë©´ ë‘ ë²ˆ ë°˜ë³µ
    let readText = text.length <= 2 ? text + 'ã€‚' + text : text;
    const u = new SpeechSynthesisUtterance(readText);
    u.lang = 'ja-JP';
    u.rate = isMobile ? 0.5 : 1.0;
    window.speechSynthesis.speak(u);
  }
}

function checkLevel() {
  const h = ALL_HIRAGANA.filter(k => state.userData.writingProgress[k.kana]?.passed).length;
  const k = ALL_KATAKANA.filter(k => state.userData.writingProgress[k.kana]?.passed).length;
  const d = ALL_DAKUTEN.filter(k => state.userData.writingProgress[k.kana]?.passed).length;
  state.userData.level = h >= 46 && k >= 46 && d >= 25 ? 4 : h >= 46 && k >= 46 ? 3 : h >= 46 ? 2 : 1;
}

function getProgress(type) {
  const list = TYPE_ALL[type] || ALL_HIRAGANA;
  const passed = list.filter(k => state.userData.writingProgress[k.kana]?.passed).length;
  return { passed, total: list.length, percent: Math.round((passed / list.length) * 100) };
}

function getNextKana() {
  const data = TYPE_DATA[state.currentType];
  const rowKanas = data[state.currentRow] || [];
  const idx = rowKanas.findIndex(k => k.kana === state.writingKana);
  if (idx < rowKanas.length - 1) return rowKanas[idx + 1].kana;
  const rows = Object.keys(data);
  const rowIdx = rows.indexOf(state.currentRow);
  if (rowIdx < rows.length - 1) return data[rows[rowIdx + 1]][0].kana;
  return null;
}

// ===== Render =====
function render() {
  const root = document.getElementById('root');
  root.innerHTML = `
    <div class="container">
      ${renderHeader()}
      <main>${state.mainTab === 'kana' ? (state.activeTab === 'home' ? renderHome() : state.activeTab === 'write' ? renderWrite() : state.activeTab === 'free' ? renderFree() : renderQuiz()) : renderAdvanced()}</main>
      ${renderNav()}
      ${state.showComplete ? renderCompletePopup() : ''}
    </div>
  `;
  bindEvents();
  if ((state.activeTab === 'write' || state.activeTab === 'free') && state.practiceMode === 'big') initBigCanvas();
  else if (state.activeTab === 'write' && state.practiceMode === 'small') initSmallCanvases();
}

function renderHeader() {
  const user = window.getFirebaseUser ? window.getFirebaseUser() : null;
  const status = window.getSyncStatus ? window.getSyncStatus() : 'synced';
  
  const userHtml = user ? `
    <div class="dropdown">
      <button class="user-info" onclick="toggleUserMenu()" style="background:none;border:none;cursor:pointer;">
        <img src="${user.photoURL || ''}" class="user-avatar" onerror="this.style.display='none'">
        <span class="user-name">${user.displayName || 'ì‚¬ìš©ì'}</span>
        <span class="sync-status ${status}">${status === 'synced' ? 'âœ“' : 'âŸ³'}</span>
      </button>
      <div class="dropdown-menu" id="userDropdown">
        <div class="dropdown-item" onclick="syncNow()">ğŸ”„ ì§€ê¸ˆ ë™ê¸°í™”</div>
        <div class="dropdown-divider"></div>
        <div class="dropdown-item" onclick="handleLogout()">ğŸšª ë¡œê·¸ì•„ì›ƒ</div>
      </div>
    </div>
  ` : `
    <button class="login-btn" onclick="handleLogin()">
      <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" width="16" height="16">
      ë¡œê·¸ì¸
    </button>
  `;

  return `<header>
    <div class="header-title">
      <span>ğŸ‡¯ğŸ‡µ ì¼ë³¸ì–´ í•™ìŠµ</span>
      <div style="display:flex;align-items:center;gap:0.5rem;">
        ${userHtml}
        <select onchange="switchProfile(this.value)" style="padding:0.25rem 0.5rem;border-radius:0.5rem;border:1px solid #ddd;font-size:0.8rem;background:#fff;">
          ${profiles.map(p => `<option value="${p}" ${p===currentProfile?'selected':''}>${p}</option>`).join('')}
        </select>
        <button onclick="addProfile()" style="background:none;border:none;cursor:pointer;font-size:1rem;" title="í”„ë¡œí•„ ì¶”ê°€">â•</button>
        <button onclick="deleteProfile()" style="background:none;border:none;cursor:pointer;font-size:1rem;" title="í”„ë¡œí•„ ì‚­ì œ">ğŸ—‘ï¸</button>
        <button onclick="resetAll()" style="background:none;border:none;cursor:pointer;font-size:1rem;" title="ë°ì´í„° ì´ˆê¸°í™”">ğŸ”„</button>
      </div>
    </div>
    <div class="header-tabs">
      <button class="header-tab ${state.mainTab === 'kana' ? 'active' : ''}" onclick="setMainTab('kana')">ğŸ“ ê°€ë‚˜ ë§ˆìŠ¤í„°</button>
      <button class="header-tab ${state.mainTab === 'advanced' ? 'active' : ''}" onclick="setMainTab('advanced')">ğŸ“– ì‹¬í™” í•™ìŠµ</button>
    </div>
  </header>`;
}

function renderHome() {
  return `<div style="padding:1rem;">
    <div class="card card-gradient" style="margin-bottom:1rem;">
      <div class="flex justify-between items-center mb-2">
        <div><div class="font-bold text-lg">ğŸ”¥ ì˜¤ëŠ˜ì˜ ì—°ìŠµ</div><div class="text-sm" style="opacity:0.8">Lv.${state.userData.level}</div></div>
        <div class="text-center"><div class="text-3xl font-bold">${state.userData.todayWritten}</div><div class="text-xs" style="opacity:0.7">/ 250</div></div>
      </div>
      <div class="progress-bg mb-3"><div class="progress-fill" style="width:${Math.min(100, (state.userData.todayWritten / 250) * 100)}%"></div></div>
      <button class="btn btn-white btn-full font-bold" onclick="setActiveTab('write')">ë¯¸ì…˜ ë”°ë¼ì“°ê¸° â†’</button>
    </div>
    <button class="card btn-full flex items-center gap-3" style="text-align:left;cursor:pointer;" onclick="setActiveTab('free')">
      <span class="text-3xl">ğŸ““</span>
      <div><div class="font-bold text-gray-800">ììœ  ì—°ìŠµì¥</div><div class="text-sm text-gray-500">ë¯¸ì…˜ ìƒê´€ì—†ì´ ë§ˆìŒê» ì—°ìŠµ!</div></div>
    </button>
    <div class="card">
      <div class="font-bold text-gray-800 mb-3">ğŸ† í•™ìŠµ ë‹¨ê³„</div>
      ${[{lv:1,name:'íˆë¼ê°€ë‚˜',type:'hiragana',icon:'ğŸŒ¸'},{lv:2,name:'ê°€íƒ€ì¹´ë‚˜',type:'katakana',icon:'ğŸŒ'},{lv:3,name:'íƒìŒ/ë°˜íƒìŒ',type:'dakuten',icon:'ğŸ’«'},{lv:4,name:'ìš”ìŒ',type:'youon',icon:'âœ¨'}].map(l => {
        const unlocked = state.userData.level >= l.lv;
        const p = getProgress(l.type);
        return `<button class="btn-full flex items-center gap-3 p-3 rounded-xl mb-2" style="text-align:left;background:${unlocked?'#eef2ff':'#f9fafb'};opacity:${unlocked?1:0.6};border:none;cursor:${unlocked?'pointer':'not-allowed'}" onclick="${unlocked?`startLevel('${l.type}')`:''}">
          <span class="text-2xl">${l.icon}</span>
          <div class="flex-1"><div class="font-medium">${l.name} ${unlocked?'ğŸ”“':'ğŸ”’'}</div><div class="text-xs text-gray-500">${unlocked?`${p.passed}/${p.total} (${p.percent}%)`:'ì ê¸ˆ'}</div></div>
          ${unlocked && p.passed === p.total ? 'â­' : ''}${unlocked ? 'â€º' : ''}
        </button>`;
      }).join('')}
    </div>
    <div class="grid-2">
      <button class="card" style="cursor:pointer" onclick="startQuiz('recognize')"><div class="text-2xl mb-2">ğŸ‘ï¸</div><div class="font-bold text-sm">ì¸ì‹ í€´ì¦ˆ</div></button>
      <button class="card" style="cursor:pointer" onclick="startQuiz('listen')"><div class="text-2xl mb-2">ğŸ‘‚</div><div class="font-bold text-sm">ì²­ì·¨ í€´ì¦ˆ</div></button>
    </div>
  </div>`;
}

function renderWrite() {
  const data = TYPE_DATA[state.currentType];
  const info = getKanaInfo(state.writingKana);
  const progress = state.userData.writingProgress[state.writingKana] || { count: 0, passed: false };
  const completedInSet = state.smallCanvases.filter(c => c?.done).length;

  return `<div style="padding:1rem;">
    <div style="display:flex;flex-wrap:wrap;gap:0.5rem;margin-bottom:0.75rem;">
      ${[{t:'hiragana',l:'ã²ã‚‰ãŒãª',lv:1},{t:'katakana',l:'ã‚«ã‚¿ã‚«ãƒŠ',lv:2},{t:'dakuten',l:'íƒìŒ',lv:3},{t:'youon',l:'ìš”ìŒ',lv:4}].map(x => `<button class="btn btn-sm btn-pill ${state.currentType===x.t?'btn-primary':'btn-gray'}" ${state.userData.level<x.lv?'disabled':''} onclick="changeType('${x.t}')">${state.userData.level<x.lv?'ğŸ”’ ':''}${x.l}</button>`).join('')}
    </div>
    <div style="display:flex;flex-wrap:wrap;gap:0.25rem;margin-bottom:0.75rem;">
      ${Object.keys(data).map(r => `<button class="btn btn-sm ${state.currentRow===r?'btn-purple':'btn-gray'}" onclick="changeRow('${r}')">${r}</button>`).join('')}
    </div>
    <div class="flex gap-1 justify-center flex-wrap mb-3">
      ${(data[state.currentRow]||[]).map(k => {const p=state.userData.writingProgress[k.kana];return `<button class="kana-btn ${state.writingKana===k.kana?'active':p?.passed?'passed':''}" onclick="selectKana('${k.kana}')">${k.kana}</button>`;}).join('')}
    </div>
    ${info ? `<div class="card bg-indigo-50 mb-3">
      <div class="flex justify-between items-center">
        <div><span class="text-xl font-bold text-indigo-600">${info.romaji}</span><span class="ml-2 text-xs px-2 py-1 bg-indigo-100 rounded-full">${progress.count}/${TOTAL_PRACTICE}ë²ˆ</span>${progress.passed?'âœ…':''}</div>
        <button class="btn btn-sm btn-primary" onclick="playSound('${state.writingKana}')">ğŸ”Š ë°œìŒ</button>
      </div>
      ${info.mnemonic?`<div class="text-gray-600 mt-1 text-sm">${info.img} ${info.mnemonic}</div>`:''}
      <div class="text-xs text-indigo-700 mt-1">ğŸ“ ${info.order}</div>
      <div class="mt-2"><div class="flex justify-between text-xs text-gray-500 mb-1"><span>ì „ì²´ ì§„í–‰</span><span>${progress.count}/${TOTAL_PRACTICE}</span></div><div class="progress-indigo-bg rounded-full" style="height:0.5rem;overflow:hidden;"><div class="progress-indigo-fill" style="height:100%;width:${(progress.count/TOTAL_PRACTICE)*100}%"></div></div></div>
    </div>` : ''}
    ${state.practiceMode === 'big' ? `
      <div class="bg-amber-50 rounded-lg p-2 text-center text-sm mb-3" style="color:#b45309">ğŸ“– ë¨¼ì € í¬ê²Œ ë”°ë¼ ì¨ë³´ì„¸ìš”!</div>
      <div class="relative mb-3"><canvas id="bigCanvas" width="280" height="280" class="aspect-square rounded-2xl border-2 border-gray-300 bg-white shadow-inner"></canvas><div id="bigMessage" class="absolute inset-0 flex items-center justify-center hidden"><div class="bg-white px-6 py-3 rounded-xl shadow-lg text-lg font-bold text-green-600">ğŸ‰ ì˜í–ˆì–´ìš”!</div></div></div>
      <div class="flex gap-2"><button class="btn btn-gray flex-1" onclick="resetBigCanvas()">ğŸ—‘ï¸ ì§€ìš°ê¸°</button><button class="btn btn-primary flex-1" onclick="playSound('${state.writingKana}')">ğŸ”Š ë°œìŒ</button></div>
    ` : `
      <div class="bg-green-50 rounded-lg p-2 text-center text-sm mb-3" style="color:#15803d">ğŸ““ ì„¸íŠ¸ ${state.currentSet}/${TOTAL_SETS} â€¢ ${completedInSet}/${CANVAS_PER_SET}ì¹¸ ì™„ë£Œ</div>
      <div class="small-canvas-grid mb-3">${[0,1,2,3,4].map(i => `<canvas id="smallCanvas${i}" width="100" height="100" class="small-canvas ${state.smallCanvases[i]?.done?'done':i===state.activeSmallIndex?'active':''}" style="width:140px;height:140px;"></canvas>`).join('')}</div>
      <div class="flex gap-2"><button class="btn btn-gray flex-1" onclick="switchToBig()">ğŸ“– í¬ê²Œ ë³´ê¸°</button><button class="btn btn-primary flex-1" onclick="playSound('${state.writingKana}')">ğŸ”Š ë°œìŒ</button></div>
    `}
  </div>`;
}

function renderFree() {
  const data = TYPE_DATA[state.currentType];
  const info = getKanaInfo(state.writingKana);
  return `<div style="padding:1rem;">
    <div class="bg-purple-50 rounded-lg p-3 text-center mb-3"><div class="text-lg font-bold text-purple-700">ğŸ““ ììœ  ì—°ìŠµì¥</div><div class="text-sm text-purple-600">ë¯¸ì…˜ ì¹´ìš´íŠ¸ ì—†ì´ ë§ˆìŒê» ì—°ìŠµ!</div></div>
    <div style="display:flex;flex-wrap:wrap;gap:0.5rem;margin-bottom:0.75rem;">
      ${[{t:'hiragana',l:'ã²ã‚‰ãŒãª'},{t:'katakana',l:'ã‚«ã‚¿ã‚«ãƒŠ'},{t:'dakuten',l:'íƒìŒ'},{t:'youon',l:'ìš”ìŒ'}].map(x => `<button class="btn btn-sm btn-pill ${state.currentType===x.t?'btn-purple':'btn-gray'}" onclick="changeType('${x.t}')">${x.l}</button>`).join('')}
    </div>
    <div style="display:flex;flex-wrap:wrap;gap:0.25rem;margin-bottom:0.75rem;">
      ${Object.keys(data).map(r => `<button class="btn btn-sm ${state.currentRow===r?'btn-purple':'btn-gray'}" onclick="changeRow('${r}')">${r}</button>`).join('')}
    </div>
    <div class="flex gap-1 justify-center flex-wrap mb-3">
      ${(data[state.currentRow]||[]).map(k => `<button class="kana-btn ${state.writingKana===k.kana?'active':''}" onclick="selectKana('${k.kana}')">${k.kana}</button>`).join('')}
    </div>
    ${info ? `<div class="card bg-purple-50 mb-3">
      <div class="flex justify-between items-center">
        <span class="text-xl font-bold text-purple-600">${info.romaji}</span>
        <button class="btn btn-sm btn-purple" onclick="playSound('${state.writingKana}')">ğŸ”Š ë°œìŒ</button>
      </div>
      ${info.mnemonic?`<div class="text-gray-600 mt-1 text-sm">${info.img} ${info.mnemonic}</div>`:''}
      <div class="text-xs text-purple-700 mt-1">ğŸ“ ${info.order}</div>
    </div>` : ''}
    <div class="relative mb-3"><canvas id="bigCanvas" width="280" height="280" class="aspect-square rounded-2xl border-2 border-purple-300 bg-white shadow-inner"></canvas></div>
    <div class="flex gap-2"><button class="btn btn-gray flex-1" onclick="resetBigCanvas()">ğŸ—‘ï¸ ì§€ìš°ê¸°</button><button class="btn btn-purple flex-1" onclick="playSound('${state.writingKana}')">ğŸ”Š ë°œìŒ</button></div>
  </div>`;
}

function renderQuiz() {
  if (!state.currentQuiz) return `<div class="text-center p-6"><button class="btn btn-primary" onclick="generateQuiz('recognize')">í€´ì¦ˆ ì‹œì‘</button></div>`;
  return `<div style="padding:1rem;">
    <div class="flex gap-2 justify-center mb-3">
      ${['recognize','similar','listen'].map(m => `<button class="btn btn-sm btn-pill ${state.quizMode===m?'btn-primary':'btn-gray'}" onclick="generateQuiz('${m}')">${m==='recognize'?'ğŸ‘ï¸ì¸ì‹':m==='similar'?'ğŸ§ ìœ ì‚¬':'ğŸ‘‚ì²­ì·¨'}</button>`).join('')}
    </div>
    <div class="card text-center">
      ${state.quizMode === 'listen' ? `<button onclick="playSound('${state.currentQuiz.kana}')" style="width:6rem;height:6rem;border-radius:9999px;background:#cffafe;color:#0891b2;font-size:2.5rem;border:none;cursor:pointer;margin:0 auto 1rem;">ğŸ”Š</button>` : `<div class="text-7xl mb-4">${state.currentQuiz.kana}</div>`}
      <p class="text-gray-600 mb-2">${state.currentQuiz.question}</p>
      ${state.currentQuiz.hint?`<p class="text-xs text-purple-600 mb-3">ğŸ’¡ ${state.currentQuiz.hint}</p>`:''}
      <div class="grid-2">
        ${state.currentQuiz.options.map(opt => `<button class="quiz-option ${state.showResult?(opt===state.currentQuiz.correctAnswer?'correct':'wrong'):''}" onclick="checkAnswer('${opt}')" ${state.showResult?'disabled':''}>${opt}</button>`).join('')}
      </div>
      ${state.showResult ? `<div class="mt-3 p-3 rounded-xl ${state.isCorrect?'bg-green-50 text-green-600':'bg-red-50 text-red-600'}"><p class="font-bold">${state.isCorrect?'ì •ë‹µ! ğŸ‰':'í‹€ë ¸ì–´ìš” ğŸ˜…'}</p><p class="text-sm mt-1">1.5ì´ˆ í›„ ë‹¤ìŒ ë¬¸ì œ...</p></div>` : ''}
    </div>
  </div>`;
}

// ì‹¬í™”í•™ìŠµ ìƒíƒœ
let advState = {
  category: 'vocab',      // vocab, grammar, convo
  subCategory: 'numbers', // ì„¸ë¶€ ì¹´í…Œê³ ë¦¬
  subTab: 'basic'         // ì„¸ë¶€ íƒ­
};

function setAdvCategory(cat) {
  advState.category = cat;
  // ê¸°ë³¸ ì„œë¸Œì¹´í…Œê³ ë¦¬ ì„¤ì •
  if (cat === 'vocab') advState.subCategory = 'numbers';
  else if (cat === 'grammar') advState.subCategory = 'particles';
  else advState.subCategory = 'greetings';
  advState.subTab = 'basic';
  render();
}

function setAdvSubCategory(subCat) {
  advState.subCategory = subCat;
  advState.subTab = 'basic';
  render();
}

function setAdvSubTab(tab) {
  advState.subTab = tab;
  render();
}

function renderAdvanced() {
  const categories = [
    {id:'vocab', label:'ğŸ“š ì–´íœ˜', icon:'ğŸ“š'},
    {id:'grammar', label:'ğŸ“ ë¬¸ë²•', icon:'ğŸ“'},
    {id:'convo', label:'ğŸ’¬ íšŒí™”', icon:'ğŸ’¬'}
  ];

  return `
    <div style="padding:0.5rem;">
      <!-- ë©”ì¸ ì¹´í…Œê³ ë¦¬ íƒ­ -->
      <div style="display:flex;flex-wrap:wrap;gap:0.5rem;margin-bottom:0.75rem;">
        ${categories.map(c => `
          <button class="btn btn-sm ${advState.category === c.id ? 'btn-primary' : 'btn-gray'}" 
                  onclick="setAdvCategory('${c.id}')" style="white-space:nowrap;">
            ${c.label}
          </button>
        `).join('')}
      </div>
      
      <!-- ì½˜í…ì¸  ì˜ì—­ -->
      ${advState.category === 'vocab' ? renderVocabSection() : 
        advState.category === 'grammar' ? renderGrammarSection() : 
        renderConvoSection()}
    </div>
  `;
}

// ===== ì–´íœ˜ ì„¹ì…˜ =====
function renderVocabSection() {
  const subCats = [
    {id:'numbers', label:'ğŸ”¢ ìˆ«ì'},
    {id:'time', label:'ğŸ• ì‹œê°„'},
    {id:'calendar', label:'ğŸ“… ë‚ ì§œ'},
    {id:'colors', label:'ğŸ¨ ìƒ‰ê¹”'},
    {id:'family', label:'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ ê°€ì¡±'},
    {id:'direction', label:'ğŸ§­ ë°©í–¥'},
    {id:'weather', label:'ğŸŒ¤ï¸ ë‚ ì”¨'},
    {id:'body', label:'ğŸ‘¤ ì‹ ì²´'},
    {id:'food', label:'ğŸ± ìŒì‹'},
    {id:'places', label:'ğŸ¢ ì¥ì†Œ'},
    {id:'jobs', label:'ğŸ’¼ ì§ì—…'},
    {id:'hobbies', label:'ğŸ® ì·¨ë¯¸'}
  ];

  return `
    <div style="display:flex;flex-wrap:wrap;gap:0.25rem;margin-bottom:0.75rem;">
      ${subCats.map(s => `
        <button class="btn btn-sm btn-pill ${advState.subCategory === s.id ? 'btn-purple' : 'btn-gray'}" 
                onclick="setAdvSubCategory('${s.id}')" style="white-space:nowrap;font-size:0.7rem;">
          ${s.label}
        </button>
      `).join('')}
    </div>
    ${renderVocabContent()}
  `;
}

function renderVocabContent() {
  switch(advState.subCategory) {
    case 'numbers': return renderNumbersContent();
    case 'time': return renderTimeContent();
    case 'calendar': return renderCalendarContent();
    case 'colors': return renderColorsContent();
    case 'family': return renderFamilyContent();
    case 'direction': return renderListContent(ADVANCED_DATA.direction, 'ë°©í–¥/ìœ„ì¹˜');
    case 'weather': return renderListContent(ADVANCED_DATA.weather, 'ë‚ ì”¨');
    case 'body': return renderListContent(ADVANCED_DATA.body, 'ì‹ ì²´');
    case 'food': return renderFoodContent();
    case 'places': return renderListContent(PLACES_DATA, 'ì¥ì†Œ/ì‹œì„¤');
    case 'jobs': return renderListContent(JOBS_DATA, 'ì§ì—…');
    case 'hobbies': return renderListContent(HOBBIES_DATA, 'ì·¨ë¯¸');
    default: return '';
  }
}

function renderNumbersContent() {
  const tabs = [{id:'basic',label:'1~10'},{id:'tens',label:'11~99'},{id:'big',label:'100~'},{id:'ordinal',label:'ê°œìˆ˜'}];
  const data = ADVANCED_DATA.numbers[advState.subTab] || ADVANCED_DATA.numbers.basic;
  
  return `
    <div class="flex gap-1 mb-2">
      ${tabs.map(t => `
        <button class="btn btn-sm ${advState.subTab === t.id ? 'bg-indigo-500 text-white' : 'btn-gray'}" 
                onclick="setAdvSubTab('${t.id}')" style="flex:1;font-size:0.75rem;">
          ${t.label}
        </button>
      `).join('')}
    </div>
    <div class="grid-2">
      ${data.map(item => `
        <div class="card p-3 text-center adv-card" data-jp="${item.jp}" data-r="${item.r}" data-kr="${item.kr || item.v || ''}" title="ë”ë¸”í´ë¦­ìœ¼ë¡œ ë‹¨ì–´ì¥ ì¶”ê°€">
          ${item.n ? `<div class="text-xl font-bold text-gray-800">${item.n}</div>` : ''}
          <div class="text-lg text-indigo-600 font-bold">${item.jp}</div>
          <div class="text-sm text-gray-500">${item.r}</div>
          <div class="text-xs text-gray-400">${item.kr || item.v}</div>
          <button class="btn btn-sm btn-primary mt-2" onclick="playSound('${item.jp}')">ğŸ”Š</button>
        </div>
      `).join('')}
    </div>
  `;
}

function renderTimeContent() {
  const tabs = [{id:'hours',label:'ì‹œ'},{id:'minutes',label:'ë¶„'},{id:'periods',label:'ì‹œê°„ëŒ€'}];
  const data = ADVANCED_DATA.time[advState.subTab] || ADVANCED_DATA.time.hours;
  
  return `
    <div class="flex gap-1 mb-2">
      ${tabs.map(t => `
        <button class="btn btn-sm ${advState.subTab === t.id ? 'bg-indigo-500 text-white' : 'btn-gray'}" 
                onclick="setAdvSubTab('${t.id}')" style="flex:1;">
          ${t.label}
        </button>
      `).join('')}
    </div>
    <div class="grid-2">
      ${data.map(item => renderSimpleCard(item)).join('')}
    </div>
  `;
}

function renderCalendarContent() {
  const tabs = [{id:'weekdays',label:'ìš”ì¼'},{id:'months',label:'ì›”'},{id:'days',label:'ì¼'},{id:'seasons',label:'ê³„ì ˆ'},{id:'relative',label:'ìƒëŒ€'}];
  const data = ADVANCED_DATA.calendar[advState.subTab] || ADVANCED_DATA.calendar.weekdays;
  
  return `
    <div style="display:flex;flex-wrap:wrap;gap:0.25rem;margin-bottom:0.5rem;">
      ${tabs.map(t => `
        <button class="btn btn-sm ${advState.subTab === t.id ? 'bg-indigo-500 text-white' : 'btn-gray'}" 
                onclick="setAdvSubTab('${t.id}')" style="white-space:nowrap;font-size:0.7rem;">
          ${t.label}
        </button>
      `).join('')}
    </div>
    <div class="grid-2">
      ${data.map(item => renderSimpleCard(item)).join('')}
    </div>
  `;
}

function renderColorsContent() {
  return `
    <div class="grid-2">
      ${ADVANCED_DATA.colors.map(c => `
        <div class="card p-3 text-center adv-card" data-jp="${c.jp}" data-r="${c.r}" data-kr="${c.kr}" style="border-left:4px solid ${c.hex};" title="ë”ë¸”í´ë¦­ìœ¼ë¡œ ë‹¨ì–´ì¥ ì¶”ê°€">
          <div class="flex items-center justify-center gap-2 mb-1">
            <div style="width:20px;height:20px;border-radius:50%;background:${c.hex};border:1px solid #ddd;"></div>
            <span class="font-bold">${c.jp}</span>
          </div>
          ${c.n ? `<div class="text-sm text-gray-600">${c.n}</div>` : ''}
          <div class="text-sm text-indigo-600">${c.r}</div>
          <div class="text-xs text-gray-400">${c.kr}</div>
          <button class="btn btn-sm btn-primary mt-2" onclick="playSound('${c.jp}')">ğŸ”Š</button>
        </div>
      `).join('')}
    </div>
  `;
}

function renderFamilyContent() {
  const tabs = [{id:'own',label:'ìš°ë¦¬ ê°€ì¡±'},{id:'others',label:'ë‚¨ì˜ ê°€ì¡±'}];
  const data = ADVANCED_DATA.family[advState.subTab] || ADVANCED_DATA.family.own;
  
  return `
    <div class="flex gap-1 mb-2">
      ${tabs.map(t => `
        <button class="btn btn-sm ${advState.subTab === t.id ? 'bg-indigo-500 text-white' : 'btn-gray'}" 
                onclick="setAdvSubTab('${t.id}')" style="flex:1;">
          ${t.label}
        </button>
      `).join('')}
    </div>
    <div class="card bg-amber-50 p-2 mb-2 text-sm">
      ğŸ’¡ ì¼ë³¸ì–´ëŠ” ìê¸° ê°€ì¡±ê³¼ ë‚¨ì˜ ê°€ì¡±ì„ ë‹¤ë¥´ê²Œ ë¶€ë¦…ë‹ˆë‹¤!
    </div>
    <div style="display:flex;flex-direction:column;gap:0.5rem;">
      ${data.map(item => `
        <div class="card p-3 flex justify-between items-center adv-card" data-jp="${item.jp}" data-r="${item.r}" data-kr="${item.kr}" title="ë”ë¸”í´ë¦­ìœ¼ë¡œ ë‹¨ì–´ì¥ ì¶”ê°€">
          <div>
            ${item.n ? `<span class="text-gray-600 mr-2">${item.n}</span>` : ''}
            <span class="font-bold text-indigo-600">${item.jp}</span>
            <span class="text-sm text-gray-500 ml-2">${item.r}</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-sm">${item.kr}</span>
            <button class="btn btn-sm btn-primary" onclick="playSound('${item.jp}')">ğŸ”Š</button>
          </div>
        </div>
      `).join('')}
    </div>
  `;
}

function renderFoodContent() {
  const tabs = [{id:'meals',label:'ì‹ì‚¬'},{id:'foods',label:'ìŒì‹'},{id:'drinks',label:'ìŒë£Œ'},{id:'tastes',label:'ë§›'}];
  const data = ADVANCED_DATA.food[advState.subTab] || ADVANCED_DATA.food.meals;
  
  return `
    <div class="flex gap-1 mb-2">
      ${tabs.map(t => `
        <button class="btn btn-sm ${advState.subTab === t.id ? 'bg-indigo-500 text-white' : 'btn-gray'}" 
                onclick="setAdvSubTab('${t.id}')" style="flex:1;font-size:0.75rem;">
          ${t.label}
        </button>
      `).join('')}
    </div>
    <div class="grid-2">
      ${data.map(item => renderSimpleCard(item)).join('')}
    </div>
  `;
}

function renderListContent(data, title) {
  return `
    <div style="display:flex;flex-direction:column;gap:0.5rem;">
      ${data.map(item => `
        <div class="card p-3 flex justify-between items-center adv-card" data-jp="${item.jp}" data-r="${item.r}" data-kr="${item.kr}" title="ë”ë¸”í´ë¦­ìœ¼ë¡œ ë‹¨ì–´ì¥ ì¶”ê°€">
          <div>
            ${item.n ? `<span class="text-gray-500 mr-2">${item.n}</span>` : ''}
            <span class="font-bold text-indigo-600">${item.jp}</span>
            <span class="text-sm text-gray-500 ml-2">${item.r}</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-sm">${item.kr}</span>
            <button class="btn btn-sm btn-primary" onclick="playSound('${item.jp}')">ğŸ”Š</button>
          </div>
        </div>
      `).join('')}
    </div>
  `;
}

function renderSimpleCard(item) {
  return `
    <div class="card p-3 text-center adv-card" data-jp="${item.jp}" data-r="${item.r}" data-kr="${item.kr || item.v || ''}" title="ë”ë¸”í´ë¦­ìœ¼ë¡œ ë‹¨ì–´ì¥ ì¶”ê°€">
      ${item.n ? `<div class="text-lg font-bold text-gray-800">${item.n}</div>` : ''}
      <div class="text-indigo-600 font-bold">${item.jp}</div>
      <div class="text-sm text-gray-500">${item.r}</div>
      <div class="text-xs text-gray-400">${item.kr || item.v || ''}</div>
      <button class="btn btn-sm btn-primary mt-2" onclick="playSound('${item.jp}')">ğŸ”Š</button>
    </div>
  `;
}

// ===== ë¬¸ë²• ì„¹ì…˜ =====
function renderGrammarSection() {
  const subCats = [
    {id:'particles', label:'ì¡°ì‚¬'},
    {id:'demonstratives', label:'ì§€ì‹œì–´'},
    {id:'questions', label:'ì˜ë¬¸ì‚¬'},
    {id:'adjI', label:'ã„í˜•ìš©ì‚¬'},
    {id:'adjNa', label:'ãªí˜•ìš©ì‚¬'},
    {id:'verbs', label:'ë™ì‚¬'},
    {id:'counters', label:'ì¹´ìš´í„°'}
  ];

  return `
    <div style="display:flex;flex-wrap:wrap;gap:0.25rem;margin-bottom:0.75rem;">
      ${subCats.map(s => `
        <button class="btn btn-sm btn-pill ${advState.subCategory === s.id ? 'btn-purple' : 'btn-gray'}" 
                onclick="setAdvSubCategory('${s.id}')" style="white-space:nowrap;font-size:0.7rem;">
          ${s.label}
        </button>
      `).join('')}
    </div>
    ${renderGrammarContent()}
  `;
}

function renderGrammarContent() {
  switch(advState.subCategory) {
    case 'particles': return renderParticlesContent();
    case 'demonstratives': return renderDemonstrativesContent();
    case 'questions': return renderQuestionsContent();
    case 'adjI': return renderAdjectivesContent(GRAMMAR_DATA.adjI, 'ã„í˜•ìš©ì‚¬');
    case 'adjNa': return renderAdjectivesContent(GRAMMAR_DATA.adjNa, 'ãªí˜•ìš©ì‚¬');
    case 'verbs': return renderVerbsContent();
    case 'counters': return renderCountersContent();
    default: return '';
  }
}

function renderParticlesContent() {
  return `
    <div class="card bg-indigo-50 p-2 mb-3 text-sm">
      ğŸ’¡ ì¡°ì‚¬ëŠ” ë‹¨ì–´ ë’¤ì— ë¶™ì–´ì„œ ë¬¸ë²•ì  ì—­í• ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤
    </div>
    <div style="display:flex;flex-direction:column;gap:0.75rem;">
      ${GRAMMAR_DATA.particles.map(p => `
        <div class="card p-3 adv-card" data-jp="${p.jp}" data-r="${p.r}" data-kr="${p.kr}" title="ë”ë¸”í´ë¦­ìœ¼ë¡œ ë‹¨ì–´ì¥ ì¶”ê°€">
          <div class="flex items-center gap-3 mb-2">
            <span class="text-2xl font-bold text-indigo-600">${p.jp}</span>
            <span class="text-gray-500">${p.r}</span>
            <span class="bg-indigo-100 text-indigo-700 px-2 py-1 rounded text-sm">${p.kr}</span>
          </div>
          <div class="bg-gray-50 rounded p-2 text-sm">
            <div class="text-indigo-600 font-medium">${p.ex}</div>
            <div class="text-gray-500">${p.exr}</div>
            <div class="text-gray-600">${p.exkr}</div>
          </div>
        </div>
      `).join('')}
    </div>
  `;
}

function renderDemonstrativesContent() {
  const tabs = [{id:'kore',label:'ã“ã‚Œê³„ì—´'},{id:'kono',label:'ã“ã®ê³„ì—´'},{id:'koko',label:'ã“ã“ê³„ì—´'},{id:'kochira',label:'ã“ã¡ã‚‰ê³„ì—´'}];
  const data = GRAMMAR_DATA.demonstratives[advState.subTab] || GRAMMAR_DATA.demonstratives.kore;
  
  const hints = {
    kore: 'ë¬¼ê±´ì„ ê°€ë¦¬í‚¬ ë•Œ',
    kono: 'ëª…ì‚¬ ì•ì—ì„œ ìˆ˜ì‹í•  ë•Œ',
    koko: 'ì¥ì†Œë¥¼ ê°€ë¦¬í‚¬ ë•Œ',
    kochira: 'ë°©í–¥ì´ë‚˜ ì •ì¤‘í•œ í‘œí˜„'
  };
  
  return `
    <div class="flex gap-1 mb-2">
      ${tabs.map(t => `
        <button class="btn btn-sm ${advState.subTab === t.id ? 'bg-indigo-500 text-white' : 'btn-gray'}" 
                onclick="setAdvSubTab('${t.id}')" style="flex:1;font-size:0.7rem;">
          ${t.label}
        </button>
      `).join('')}
    </div>
    <div class="card bg-amber-50 p-2 mb-2 text-sm">
      ğŸ’¡ ${hints[advState.subTab] || hints.kore}
    </div>
    <div class="grid-2">
      ${data.map((item, i) => `
        <div class="card p-3 text-center adv-card ${i === 0 ? 'border-green-300 bg-green-50' : i === 1 ? 'border-indigo-300 bg-indigo-50' : i === 2 ? 'border-purple-300 bg-purple-50' : 'border-gray-300'}" data-jp="${item.jp}" data-r="${item.r}" data-kr="${item.kr}" title="ë”ë¸”í´ë¦­ìœ¼ë¡œ ë‹¨ì–´ì¥ ì¶”ê°€">
          <div class="text-xs text-gray-500 mb-1">${['ì´(ê°€ê¹Œìš´)', 'ê·¸(ìƒëŒ€ìª½)', 'ì €(ë¨¼)', 'ì–´ëŠ(ì˜ë¬¸)'][i]}</div>
          <div class="text-xl font-bold">${item.jp}</div>
          <div class="text-sm text-gray-600">${item.r}</div>
          <div class="text-sm text-gray-500">${item.kr}</div>
          <button class="btn btn-sm btn-primary mt-2" onclick="playSound('${item.jp}')">ğŸ”Š</button>
        </div>
      `).join('')}
    </div>
  `;
}

function renderQuestionsContent() {
  return `
    <div style="display:flex;flex-direction:column;gap:0.75rem;">
      ${GRAMMAR_DATA.questions.map(q => `
        <div class="card p-3 adv-card" data-jp="${q.jp.split('/')[0]}" data-r="${q.r}" data-kr="${q.kr}" title="ë”ë¸”í´ë¦­ìœ¼ë¡œ ë‹¨ì–´ì¥ ì¶”ê°€">
          <div class="flex items-center gap-3 mb-2">
            <span class="text-xl font-bold text-purple-600">${q.jp}</span>
            ${q.n ? `<span class="text-gray-500">${q.n}</span>` : ''}
            <span class="text-gray-500">${q.r}</span>
            <span class="bg-purple-100 text-purple-700 px-2 py-1 rounded text-sm">${q.kr}</span>
            <button class="btn btn-sm btn-primary ml-auto" onclick="playSound('${q.jp.split('/')[0]}')">ğŸ”Š</button>
          </div>
          <div class="bg-gray-50 rounded p-2 text-sm">
            <div class="text-purple-600">${q.ex}</div>
            <div class="text-gray-500">${q.exkr}</div>
          </div>
        </div>
      `).join('')}
    </div>
  `;
}

function renderAdjectivesContent(data, title) {
  return `
    <div class="card bg-indigo-50 p-2 mb-3 text-sm">
      ğŸ’¡ ${title === 'ã„í˜•ìš©ì‚¬' ? 'ã„í˜•ìš©ì‚¬ëŠ” ã„ë¡œ ëë‚˜ê³ , í™œìš©í•  ë•Œ ã„ê°€ ë³€í•©ë‹ˆë‹¤' : 'ãªí˜•ìš©ì‚¬ëŠ” ëª…ì‚¬ ì•ì—ì„œ ãªë¥¼ ë¶™ì…ë‹ˆë‹¤'}
    </div>
    <div class="grid-2">
      ${data.map(adj => `
        <div class="card p-2 text-center adv-card" data-jp="${adj.jp.split('/')[0]}" data-r="${adj.r}" data-kr="${adj.kr}" title="ë”ë¸”í´ë¦­ìœ¼ë¡œ ë‹¨ì–´ì¥ ì¶”ê°€">
          ${adj.n ? `<div class="text-sm text-gray-500">${adj.n}</div>` : ''}
          <div class="font-bold text-indigo-600">${adj.jp}</div>
          <div class="text-xs text-gray-500">${adj.r}</div>
          <div class="text-xs text-gray-600">${adj.kr}</div>
          <button class="btn btn-sm btn-primary mt-1" onclick="playSound('${adj.jp.split('/')[0]}')">ğŸ”Š</button>
        </div>
      `).join('')}
    </div>
  `;
}

function renderVerbsContent() {
  const tabs = [{id:'group1',label:'1ê·¸ë£¹'},{id:'group2',label:'2ê·¸ë£¹'},{id:'group3',label:'3ê·¸ë£¹'}];
  const data = GRAMMAR_DATA.verbs[advState.subTab] || GRAMMAR_DATA.verbs.group1;
  
  const groupHints = {
    group1: 'ã†ë‹¨ìœ¼ë¡œ ëë‚˜ëŠ” ë™ì‚¬ (5ë‹¨ ë™ì‚¬)',
    group2: 'ã‚‹ë¡œ ëë‚˜ê³  ã‚‹ì•ì´ ã„/ãˆë‹¨ (1ë‹¨ ë™ì‚¬)',
    group3: 'ã™ã‚‹, ãã‚‹ (ë¶ˆê·œì¹™ ë™ì‚¬)'
  };
  
  return `
    <div class="flex gap-1 mb-2">
      ${tabs.map(t => `
        <button class="btn btn-sm ${advState.subTab === t.id ? 'bg-indigo-500 text-white' : 'btn-gray'}" 
                onclick="setAdvSubTab('${t.id}')" style="flex:1;">
          ${t.label}
        </button>
      `).join('')}
    </div>
    <div class="card bg-cyan-100 p-2 mb-2 text-sm">
      ğŸ’¡ ${groupHints[advState.subTab] || groupHints.group1}
    </div>
    <div style="display:flex;flex-direction:column;gap:0.5rem;">
      ${data.map(v => `
        <div class="card p-3 adv-card" data-jp="${v.jp}" data-r="${v.r}" data-kr="${v.kr}" title="ë”ë¸”í´ë¦­ìœ¼ë¡œ ë‹¨ì–´ì¥ ì¶”ê°€">
          <div class="flex items-center justify-between mb-1">
            <div>
              ${v.n ? `<span class="text-gray-500 mr-1">${v.n}</span>` : ''}
              <span class="font-bold text-indigo-600 text-lg">${v.jp}</span>
              <span class="text-sm text-gray-500 ml-2">${v.r}</span>
            </div>
            <div class="flex items-center gap-2">
              <span class="text-sm">${v.kr}</span>
              <button class="btn btn-sm btn-primary" onclick="playSound('${v.jp}')">ğŸ”Š</button>
            </div>
          </div>
          <div class="flex gap-2 text-xs">
            <span class="bg-green-100 text-green-700 px-2 py-1 rounded">ã¦í˜•: ${v.te}</span>
            <span class="bg-purple-100 text-purple-700 px-2 py-1 rounded">ãŸí˜•: ${v.ta}</span>
          </div>
        </div>
      `).join('')}
    </div>
  `;
}

function renderCountersContent() {
  return `
    <div class="card bg-amber-50 p-2 mb-3 text-sm">
      ğŸ’¡ ì¼ë³¸ì–´ëŠ” ì„¸ëŠ” ëŒ€ìƒì— ë”°ë¼ ë‹¤ë¥¸ ì¹´ìš´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤
    </div>
    <div style="display:flex;flex-direction:column;gap:0.75rem;">
      ${GRAMMAR_DATA.counters.map(c => `
        <div class="card p-3 adv-card" data-jp="${c.jp}" data-r="${c.r}" data-kr="${c.kr}" title="ë”ë¸”í´ë¦­ìœ¼ë¡œ ë‹¨ì–´ì¥ ì¶”ê°€">
          <div class="flex items-center gap-3 mb-2">
            <span class="text-xl font-bold text-purple-600">${c.jp}</span>
            ${c.n ? `<span class="text-gray-500">${c.n}</span>` : ''}
            <span class="text-gray-500">${c.r}</span>
            <span class="bg-purple-100 text-purple-700 px-2 py-1 rounded text-sm">${c.kr}</span>
          </div>
          <div class="bg-gray-50 rounded p-2 text-sm text-gray-600">
            ì˜ˆ: ${c.ex}
          </div>
        </div>
      `).join('')}
    </div>
  `;
}

// ===== íšŒí™” ì„¹ì…˜ =====
function renderConvoSection() {
  const subCats = [
    {id:'greetings', label:'ğŸ‘‹ ì¸ì‚¬'},
    {id:'selfIntro', label:'ğŸ™‹ ìê¸°ì†Œê°œ'},
    {id:'shopping', label:'ğŸ›’ ì‡¼í•‘'},
    {id:'restaurant', label:'ğŸ½ï¸ ì‹ë‹¹'},
    {id:'transport', label:'ğŸšƒ êµí†µ'},
    {id:'directions', label:'ğŸ—ºï¸ ê¸¸ì°¾ê¸°'},
    {id:'phone', label:'ğŸ“ ì „í™”'},
    {id:'emergency', label:'ğŸ¥ ê¸´ê¸‰'},
    {id:'useful', label:'ğŸ’¡ ìœ ìš©'}
  ];

  return `
    <div style="display:flex;flex-wrap:wrap;gap:0.25rem;margin-bottom:0.75rem;">
      ${subCats.map(s => `
        <button class="btn btn-sm btn-pill ${advState.subCategory === s.id ? 'btn-purple' : 'btn-gray'}" 
                onclick="setAdvSubCategory('${s.id}')" style="white-space:nowrap;font-size:0.7rem;">
          ${s.label}
        </button>
      `).join('')}
    </div>
    ${renderConvoContent()}
  `;
}

function renderConvoContent() {
  switch(advState.subCategory) {
    case 'greetings': return renderGreetingsContent();
    case 'selfIntro': return renderPhraseList(CONVERSATION_DATA.selfIntro, 'ìê¸°ì†Œê°œ í‘œí˜„');
    case 'shopping': return renderPhraseList(CONVERSATION_DATA.shopping, 'ì‡¼í•‘ íšŒí™”');
    case 'restaurant': return renderPhraseList(CONVERSATION_DATA.restaurant, 'ì‹ë‹¹ íšŒí™”');
    case 'transport': return renderPhraseList(CONVERSATION_DATA.transport, 'êµí†µ íšŒí™”');
    case 'directions': return renderPhraseList(CONVERSATION_DATA.directions, 'ê¸¸ ë¬»ê¸°');
    case 'phone': return renderPhraseList(CONVERSATION_DATA.phone, 'ì „í™” íšŒí™”');
    case 'emergency': return renderPhraseList(CONVERSATION_DATA.emergency, 'ê¸´ê¸‰ìƒí™©');
    case 'useful': return renderPhraseList(CONVERSATION_DATA.useful, 'ìœ ìš©í•œ í‘œí˜„');
    default: return '';
  }
}

function renderGreetingsContent() {
  const tabs = [
    {id:'basic',label:'ê¸°ë³¸'},
    {id:'meeting',label:'ë§Œë‚¨'},
    {id:'parting',label:'í—¤ì–´ì§'},
    {id:'thanks',label:'ê°ì‚¬'},
    {id:'apology',label:'ì‚¬ê³¼'},
    {id:'meals',label:'ì‹ì‚¬'}
  ];
  const data = CONVERSATION_DATA.greetings[advState.subTab] || CONVERSATION_DATA.greetings.basic;
  
  return `
    <div style="display:flex;flex-wrap:wrap;gap:0.25rem;margin-bottom:0.5rem;">
      ${tabs.map(t => `
        <button class="btn btn-sm ${advState.subTab === t.id ? 'bg-indigo-500 text-white' : 'btn-gray'}" 
                onclick="setAdvSubTab('${t.id}')" style="white-space:nowrap;font-size:0.7rem;">
          ${t.label}
        </button>
      `).join('')}
    </div>
    ${renderPhraseList(data, '')}
  `;
}

function renderPhraseList(data, title) {
  return `
    ${title ? `<div class="font-bold text-gray-700 mb-2">${title}</div>` : ''}
    <div style="display:flex;flex-direction:column;gap:0.5rem;">
      ${data.map(item => `
        <div class="card p-3 adv-card" data-jp="${item.jp.replace(/[ã€œï½]/g, '')}" data-r="${item.r}" data-kr="${item.kr}" title="ë”ë¸”í´ë¦­ìœ¼ë¡œ ë‹¨ì–´ì¥ ì¶”ê°€">
          <div class="flex items-start justify-between">
            <div class="flex-1">
              <div class="font-bold text-indigo-600 text-lg mb-1">${item.jp}</div>
              <div class="text-sm text-gray-500">${item.r}</div>
              <div class="text-sm text-gray-700 mt-1">${item.kr}</div>
            </div>
            <button class="btn btn-sm btn-primary ml-2" onclick="playSound('${item.jp.replace(/[ã€œï½]/g, '')}')">ğŸ”Š</button>
          </div>
        </div>
      `).join('')}
    </div>
  `;
}
function renderNav() {
  return `<nav><div class="nav-inner">
    ${[{id:'home',icon:'ğŸ¯',label:'í™ˆ'},{id:'write',icon:'âœï¸',label:'ë¯¸ì…˜'},{id:'free',icon:'ğŸ““',label:'ììœ '},{id:'quiz',icon:'ğŸ§ ',label:'í€´ì¦ˆ'},{id:'jlpt',icon:'ğŸ“š',label:'JLPT'},{id:'notebook',icon:'ğŸ“–',label:'ë‹¨ì–´ì¥'}].map(t => t.id==='jlpt'?`<a href="jlpt.html" class="nav-btn" style="text-decoration:none;"><span>${t.icon}</span><span>${t.label}</span></a>`:t.id==='notebook'?`<a href="notebook.html" class="nav-btn" style="text-decoration:none;"><span>${t.icon}</span><span>${t.label}</span></a>`:`<button class="nav-btn ${state.activeTab===t.id?'active':''}" onclick="setActiveTab('${t.id}')"><span>${t.icon}</span><span>${t.label}</span></button>`).join('')}
  </div></nav>`;
}

function renderCompletePopup() {
  const nextKana = getNextKana();
  const info = getKanaInfo(state.writingKana);
  return `<div class="modal-overlay"><div class="modal-content">
    <div style="font-size:4rem;margin-bottom:1rem;">ğŸ‰</div>
    <div class="text-2xl font-bold text-gray-800 mb-2">ì¶•í•˜í•´ìš”!</div>
    <div class="text-lg text-indigo-600 mb-4"><span style="font-size:2rem;">${state.writingKana}</span> (${info?.romaji})ë¥¼<br><span class="font-bold">50ë²ˆ</span> ì—°ìŠµ ì™„ë£Œ!</div>
    ${nextKana?`<button class="btn btn-primary btn-full mb-2" onclick="goToNextKana('${nextKana}')">ë‹¤ìŒ ìŒì ˆ â†’ ${nextKana}</button>`:`<div class="text-green-600 font-bold mb-2">ğŸ† ì´ í–‰ì„ ëª¨ë‘ ì™„ë£Œ!</div>`}
    <button class="btn btn-gray btn-full mb-2" onclick="closeComplete()">ê³„ì† ì—°ìŠµí•˜ê¸°</button>
    <button style="background:none;border:none;color:#9ca3af;cursor:pointer;" onclick="goHome()">í™ˆìœ¼ë¡œ</button>
  </div></div>`;
}

// ===== Canvas =====
function initBigCanvas() {
  const canvas = document.getElementById('bigCanvas');
  if (!canvas) return;
  drawBigCanvas();
  canvas.onpointerdown = e => { e.preventDefault(); state.bigIsDrawing = true; state.bigCurrentPath = [getCoords(canvas, e)]; };
  canvas.onpointermove = e => { if (!state.bigIsDrawing) return; e.preventDefault(); state.bigCurrentPath.push(getCoords(canvas, e)); drawBigCanvas(); };
  canvas.onpointerup = canvas.onpointerleave = e => {
    if (!state.bigIsDrawing) return;
    e.preventDefault(); state.bigIsDrawing = false;
    if (state.bigCurrentPath.length >= 3) {
      state.bigPaths.push([...state.bigCurrentPath]);
      state.bigStrokeCount++;
      if (state.activeTab === 'write') {
        const info = getKanaInfo(state.writingKana);
        if (state.bigStrokeCount >= (info?.strokes || 1)) completeBigCanvas();
      }
    }
    state.bigCurrentPath = []; drawBigCanvas();
  };
}

function drawBigCanvas() {
  const canvas = document.getElementById('bigCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const s = canvas.width;
  ctx.fillStyle = '#fff'; ctx.fillRect(0, 0, s, s);
  ctx.strokeStyle = '#e5e5e5'; ctx.lineWidth = 1; ctx.setLineDash([5, 5]);
  ctx.beginPath(); ctx.moveTo(s/2, 0); ctx.lineTo(s/2, s); ctx.moveTo(0, s/2); ctx.lineTo(s, s/2); ctx.stroke(); ctx.setLineDash([]);
  ctx.font = `bold ${s * 0.7}px serif`; ctx.fillStyle = state.activeTab === 'free' ? 'rgba(147,51,234,0.12)' : 'rgba(99,102,241,0.12)';
  ctx.textAlign = 'center'; ctx.textBaseline = 'middle'; ctx.fillText(state.writingKana, s/2, s/2);
  [...state.bigPaths, state.bigCurrentPath].forEach((path, idx) => {
    if (!path || path.length < 2) return;
    ctx.beginPath(); ctx.strokeStyle = idx < state.bigPaths.length ? '#1f2937' : (state.activeTab === 'free' ? '#9333ea' : '#6366f1');
    ctx.lineWidth = 5; ctx.lineCap = 'round'; ctx.lineJoin = 'round';
    path.forEach((pt, i) => i === 0 ? ctx.moveTo(pt.x, pt.y) : ctx.lineTo(pt.x, pt.y)); ctx.stroke();
  });
  if (state.activeTab !== 'free') {
    const info = getKanaInfo(state.writingKana);
    ctx.fillStyle = '#6366f1'; ctx.font = 'bold 14px sans-serif'; ctx.textAlign = 'left'; ctx.textBaseline = 'top';
    ctx.fillText(`${state.bigStrokeCount}/${info?.strokes || '?'}íš`, 8, 8);
  }
}

function completeBigCanvas() {
  playSound(state.writingKana);
  const progress = state.userData.writingProgress[state.writingKana] || { count: 0, passed: false };
  progress.count++; if (progress.count >= TOTAL_PRACTICE) progress.passed = true;
  state.userData.writingProgress[state.writingKana] = progress;
  state.userData.todayWritten++; checkLevel(); saveUserData();
  document.getElementById('bigMessage')?.classList.remove('hidden');
  setTimeout(() => {
    if (progress.count >= TOTAL_PRACTICE) { state.showComplete = true; render(); return; }
    state.practiceMode = 'small'; state.currentSet = 1;
    state.smallCanvases = Array(CANVAS_PER_SET).fill(null).map(() => ({done:false,paths:[],currentPath:[],isDrawing:false}));
    state.activeSmallIndex = 0; resetBigCanvas(); render();
  }, 800);
}

function resetBigCanvas() {
  state.bigPaths = []; state.bigCurrentPath = []; state.bigStrokeCount = 0; state.bigIsDrawing = false;
  document.getElementById('bigMessage')?.classList.add('hidden');
  drawBigCanvas();
}

function initSmallCanvases() {
  for (let i = 0; i < CANVAS_PER_SET; i++) {
    const canvas = document.getElementById(`smallCanvas${i}`);
    if (!canvas) continue;
    if (!state.smallCanvases[i]) state.smallCanvases[i] = {done:false,paths:[],currentPath:[],isDrawing:false};
    drawSmallCanvas(i);
    canvas.onpointerdown = e => { if (i !== state.activeSmallIndex || state.smallCanvases[i].done) return; e.preventDefault(); state.smallCanvases[i].isDrawing = true; state.smallCanvases[i].currentPath = [getCoords(canvas, e)]; };
    canvas.onpointermove = e => { if (!state.smallCanvases[i]?.isDrawing) return; e.preventDefault(); state.smallCanvases[i].currentPath.push(getCoords(canvas, e)); drawSmallCanvas(i); };
    canvas.onpointerup = canvas.onpointerleave = e => {
      if (!state.smallCanvases[i]?.isDrawing) return;
      e.preventDefault(); state.smallCanvases[i].isDrawing = false;
      if (state.smallCanvases[i].currentPath.length >= 3) {
        state.smallCanvases[i].paths.push([...state.smallCanvases[i].currentPath]);
        const info = getKanaInfo(state.writingKana);
        if (state.smallCanvases[i].paths.length >= (info?.strokes || 1)) completeSmallCanvas(i);
      }
      state.smallCanvases[i].currentPath = []; drawSmallCanvas(i);
    };
  }
}

function drawSmallCanvas(i) {
  const canvas = document.getElementById(`smallCanvas${i}`);
  if (!canvas) return;
  const ctx = canvas.getContext('2d'); const s = canvas.width; const sc = state.smallCanvases[i];
  ctx.fillStyle = sc?.done ? '#dcfce7' : '#fff'; ctx.fillRect(0, 0, s, s);
  ctx.strokeStyle = '#e5e5e5'; ctx.lineWidth = 0.5; ctx.setLineDash([3, 3]);
  ctx.beginPath(); ctx.moveTo(s/2, 0); ctx.lineTo(s/2, s); ctx.moveTo(0, s/2); ctx.lineTo(s, s/2); ctx.stroke(); ctx.setLineDash([]);
  ctx.font = `bold ${s * 0.6}px serif`; ctx.fillStyle = sc?.done ? 'rgba(34,197,94,0.2)' : 'rgba(99,102,241,0.15)';
  ctx.textAlign = 'center'; ctx.textBaseline = 'middle'; ctx.fillText(state.writingKana, s/2, s/2);
  if (sc) {
    [...(sc.paths || []), sc.currentPath || []].forEach(path => {
      if (!path || path.length < 2) return;
      ctx.beginPath(); ctx.strokeStyle = sc.done ? '#22c55e' : '#6366f1'; ctx.lineWidth = 2; ctx.lineCap = 'round'; ctx.lineJoin = 'round';
      path.forEach((pt, j) => j === 0 ? ctx.moveTo(pt.x, pt.y) : ctx.lineTo(pt.x, pt.y)); ctx.stroke();
    });
  }
  if (sc?.done) { ctx.fillStyle = '#22c55e'; ctx.font = 'bold 16px sans-serif'; ctx.textAlign = 'right'; ctx.textBaseline = 'top'; ctx.fillText('âœ“', s - 5, 3); }
  else if (sc?.paths?.length > 0) { const info = getKanaInfo(state.writingKana); ctx.fillStyle = '#6366f1'; ctx.font = 'bold 10px sans-serif'; ctx.textAlign = 'left'; ctx.textBaseline = 'top'; ctx.fillText(`${sc.paths.length}/${info?.strokes || '?'}`, 3, 3); }
  if (i === state.activeSmallIndex && !sc?.done) { ctx.strokeStyle = '#6366f1'; ctx.lineWidth = 2; ctx.strokeRect(1, 1, s - 2, s - 2); }
}

function completeSmallCanvas(i) {
  state.smallCanvases[i].done = true; playSound(state.writingKana);
  const progress = state.userData.writingProgress[state.writingKana] || { count: 0, passed: false };
  progress.count++; if (progress.count >= TOTAL_PRACTICE) progress.passed = true;
  state.userData.writingProgress[state.writingKana] = progress;
  state.userData.todayWritten++; checkLevel(); saveUserData();
  if (progress.count >= TOTAL_PRACTICE) { setTimeout(() => { state.showComplete = true; render(); }, 500); return; }
  if (i < CANVAS_PER_SET - 1) { state.activeSmallIndex = i + 1; render(); }
  else { setTimeout(() => { if (state.currentSet < TOTAL_SETS) { state.currentSet++; state.smallCanvases = Array(CANVAS_PER_SET).fill(null).map(() => ({done:false,paths:[],currentPath:[],isDrawing:false})); state.activeSmallIndex = 0; render(); } }, 500); }
}

function switchToBig() { state.practiceMode = 'big'; resetBigCanvas(); render(); }
function getCoords(canvas, e) {
  const rect = canvas.getBoundingClientRect();
  const clientX = e.touches ? e.touches[0].clientX : e.clientX;
  const clientY = e.touches ? e.touches[0].clientY : e.clientY;
  return { x: (clientX - rect.left) * (canvas.width / rect.width), y: (clientY - rect.top) * (canvas.height / rect.height) };
}

// ===== Quiz =====
function generateQuiz(mode) {
  state.quizMode = mode; state.showResult = false;
  const kanaList = TYPE_ALL[state.currentType];
  let quiz = {};
  if (mode === 'similar') {
    const available = SIMILAR_KANA.filter(g => g.group.some(k => kanaList.find(x => x.kana === k)));
    if (available.length === 0) { generateQuiz('recognize'); return; }
    const group = available[Math.floor(Math.random() * available.length)];
    const correct = group.group[Math.floor(Math.random() * group.group.length)];
    const info = getKanaInfo(correct);
    quiz = { kana: correct, correctAnswer: correct, options: [...group.group].sort(() => Math.random() - 0.5), hint: group.hint, question: `"${info?.romaji}" ë°œìŒì€?` };
  } else if (mode === 'listen') {
    const item = kanaList[Math.floor(Math.random() * kanaList.length)];
    const others = kanaList.filter(k => k.kana !== item.kana).sort(() => Math.random() - 0.5).slice(0, 3);
    quiz = { kana: item.kana, correctAnswer: item.kana, options: [item.kana, ...others.map(k => k.kana)].sort(() => Math.random() - 0.5), question: 'ë“¤ë¦¬ëŠ” ë°œìŒì€?' };
    setTimeout(() => playSound(item.kana), 300);
  } else {
    const item = kanaList[Math.floor(Math.random() * kanaList.length)];
    const others = kanaList.filter(k => k.romaji !== item.romaji).sort(() => Math.random() - 0.5).slice(0, 3);
    quiz = { kana: item.kana, correctAnswer: item.romaji, options: [item.romaji, ...others.map(k => k.romaji)].sort(() => Math.random() - 0.5), question: 'ì´ ê°€ë‚˜ì˜ ë°œìŒì€?' };
  }
  state.currentQuiz = quiz; state.activeTab = 'quiz'; render();
}

function checkAnswer(answer) {
  const correct = answer === state.currentQuiz.correctAnswer;
  state.isCorrect = correct; state.showResult = true;
  if (correct) playSound(state.currentQuiz.kana);
  state.userData.totalReviews++; if (correct) state.userData.correctAnswers++; saveUserData(); render();
  setTimeout(() => generateQuiz(state.quizMode), 1500);
}

// ===== Nav =====
function setMainTab(tab) { state.mainTab = tab; render(); }
function setActiveTab(tab) {
  state.activeTab = tab; state.freeMode = tab === 'free';
  if (tab === 'write') {
    const progress = state.userData.writingProgress[state.writingKana] || { count: 0 };
    state.practiceMode = progress.count === 0 ? 'big' : 'small';
    if (state.practiceMode === 'small') {
      state.currentSet = Math.min(TOTAL_SETS, Math.floor(progress.count / CANVAS_PER_SET) + 1);
      state.smallCanvases = Array(CANVAS_PER_SET).fill(null).map(() => ({done:false,paths:[],currentPath:[],isDrawing:false}));
      state.activeSmallIndex = 0;
    }
    resetBigCanvas();
  }
  if (tab === 'free') { state.practiceMode = 'big'; resetBigCanvas(); }
  if (tab === 'quiz' && !state.currentQuiz) { generateQuiz('recognize'); return; }
  render();
}

function changeType(type) {
  if (!state.freeMode && state.userData.level < ({hiragana:1,katakana:2,dakuten:3,youon:4}[type])) return;
  state.currentType = type;
  const data = TYPE_DATA[type];
  state.currentRow = Object.keys(data)[0];
  state.writingKana = data[state.currentRow][0].kana;
  if (!state.freeMode) {
    const progress = state.userData.writingProgress[state.writingKana] || { count: 0 };
    state.practiceMode = progress.count === 0 ? 'big' : 'small';
    state.currentSet = 1;
    state.smallCanvases = Array(CANVAS_PER_SET).fill(null).map(() => ({done:false,paths:[],currentPath:[],isDrawing:false}));
    state.activeSmallIndex = 0;
  }
  resetBigCanvas(); render();
}

function changeRow(row) {
  state.currentRow = row;
  state.writingKana = TYPE_DATA[state.currentType][row][0].kana;
  if (!state.freeMode) {
    const progress = state.userData.writingProgress[state.writingKana] || { count: 0 };
    state.practiceMode = progress.count === 0 ? 'big' : 'small';
    state.currentSet = 1;
    state.smallCanvases = Array(CANVAS_PER_SET).fill(null).map(() => ({done:false,paths:[],currentPath:[],isDrawing:false}));
    state.activeSmallIndex = 0;
  }
  resetBigCanvas(); render();
}

function selectKana(kana) {
  state.writingKana = kana;
  if (!state.freeMode) {
    const progress = state.userData.writingProgress[kana] || { count: 0 };
    state.practiceMode = progress.count === 0 ? 'big' : 'small';
    state.currentSet = Math.min(TOTAL_SETS, Math.floor(progress.count / CANVAS_PER_SET) + 1);
    state.smallCanvases = Array(CANVAS_PER_SET).fill(null).map(() => ({done:false,paths:[],currentPath:[],isDrawing:false}));
    state.activeSmallIndex = 0;
  }
  resetBigCanvas(); render();
}

function startLevel(type) { changeType(type); setActiveTab('write'); }
function startQuiz(mode) { generateQuiz(mode); }
function goToNextKana(kana) {
  state.showComplete = false; state.writingKana = kana;
  const data = TYPE_DATA[state.currentType];
  for (const row of Object.keys(data)) { if (data[row].find(k => k.kana === kana)) { state.currentRow = row; break; } }
  state.practiceMode = 'big'; state.currentSet = 1;
  state.smallCanvases = Array(CANVAS_PER_SET).fill(null).map(() => ({done:false,paths:[],currentPath:[],isDrawing:false}));
  state.activeSmallIndex = 0; resetBigCanvas(); render();
}
function closeComplete() { state.showComplete = false; render(); }
function goHome() { state.showComplete = false; state.activeTab = 'home'; render(); }
function resetAll() { if (confirm('"' + currentProfile + '" í”„ë¡œí•„ì˜ ëª¨ë“  ë°ì´í„°ë¥¼ ì´ˆê¸°í™”í• ê¹Œìš”?')) { localStorage.removeItem(getStorageKey()); location.reload(); } }
function bindEvents() {}

// ========== ë‹¨ì–´ì¥ ì¶”ê°€ ê¸°ëŠ¥ ==========
function getNotebookKey() {
  return 'notebook_' + currentProfile + '_data';
}

function addToNotebook(item) {
  const nb = JSON.parse(localStorage.getItem(getNotebookKey()) || '{}');
  const today = new Date().toISOString().split('T')[0];
  if (!nb[today]) nb[today] = [];
  
  // ì¤‘ë³µ ì²´í¬
  const itemStr = JSON.stringify(item);
  const exists = nb[today].some(x => JSON.stringify(x) === itemStr);
  if (exists) {
    showToast('ì´ë¯¸ ì¶”ê°€ëœ í•­ëª©ì´ì—ìš”!', '#FF9800');
    return;
  }
  
  nb[today].push(item);
  localStorage.setItem(getNotebookKey(), JSON.stringify(nb));
  showToast('ğŸ“– ë‹¨ì–´ì¥ì— ì¶”ê°€í–ˆì–´ìš”!', '#4CAF50');
}

function showToast(msg, color) {
  const toast = document.createElement('div');
  toast.style.cssText = `position:fixed;bottom:5rem;left:50%;transform:translateX(-50%);background:${color || '#4CAF50'};color:white;padding:1rem 2rem;border-radius:10px;z-index:9999;animation:fadeInOut 2s;`;
  toast.textContent = msg;
  document.body.appendChild(toast);
  setTimeout(() => toast.remove(), 2000);
}

function confirmAddToNotebook(item) {
  if (confirm('ë‹¨ì–´ì¥ì— ì¶”ê°€í• ê¹Œìš”?')) {
    addToNotebook(item);
  }
}

// ë”ë¸”í´ë¦­ ì´ë²¤íŠ¸ (ì‹¬í™”í•™ìŠµ ì¹´ë“œ)
document.addEventListener('dblclick', function(e) {
  const card = e.target.closest('.adv-card');
  if (card) {
    const jp = card.dataset.jp;
    const r = card.dataset.r;
    const kr = card.dataset.kr;
    if (jp) {
      confirmAddToNotebook({
        type: 'vocab',
        jp: jp,
        reading: r || '',
        kr: kr || ''
      });
    }
  }
});

// ===== Init =====
const today = new Date().toDateString();
if (state.userData.lastDate !== today) { state.userData.todayWritten = 0; state.userData.lastDate = today; saveUserData(); }
checkLevel(); render();
  </script>
</body>
</html>
